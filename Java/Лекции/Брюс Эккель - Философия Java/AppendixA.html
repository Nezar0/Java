<HTML>
<HEAD>
<TITLE>Thinking in Java, 2nd ed. Revision 11 -  ���������� �.</TITLE>
<meta http-equiv="description" content="Thinking in Java, 2nd edition. ���������� �. �����������, ��������, ������ � ���������.">
<meta http-equiv="keywords" content="clone,string,�����,public,������,java,new,int,x,object,system,��������,������,println,������,class,�������,out,�����,v,���,������������,return,������,f,cloneable,�����������,�������,super,o,��������,arraylist,�������,void,���������,�������,private,�����,main,������,immutable2,�������,�����,������������,��,����,����,��������,clonenotsupportedexception,���,tostring,������,��������,tomato,char,������,����,����������,a,stringbuffer,fruit,���������,integer,�����,�����,����,���������,args,��,���������,ordinary,0,����,fruitqualities,�����������,for,y,��,��,myobject,����������">
<META HTTP-EQUIV="Content-type" CONTENT="text/html; charset=Windows-1251">
</HEAD>
<BODY  bgcolor="#FCFCFC">
<p> <br>
<H1>���������� � �������� � ������� ��������.</h1>
<hr>
<p><b>��� �� ��� ������, "���������" ������ � �������� ��������� �� ����� ���� 
�� ���������� ���� �������� �� ���� ������.</b></p>
<p class="pad">����������� ��� ����� ���������������� ������������� ����� "�����������" 
������� ��� �������� � ��������� � � ����������� ������� ��� ��������� ��������. 
������ ������ ���������� �������, ����� ��� �������� ��������� �������� � ������ 
����������� ����������� (���, � ������ � ��++, ��������� �����������). Java � 
���� ����� ����� �� �������� �����������, ������� ����� ����� ����� �� ����� 
������������ ���� ��������� ����������� ����� ����������� � ���������, � 
"���������� �" ������� ��� � ����.</p>
<p class="pad">���� � ��� ���� ���� ������ � ������� ������� ����������������, �� ���� ����� 
���������� ����� �������������� ���: "���� �� � ����� Java ���������?". ������ 
������������ ������� ������������� ���������� �������� ������� � �������. 
��������� Java - ����� ����������� ���� ����������������, ��������� ���� 
�������� ��� �� ������, � ��� �� ������ ���� �������� ������������ ���������. 
��� �� �����, ���������� ��� �� ����� ������� ��� ��������� � Java ����. 
�������������, ��� �������������� �������� � Java (����� ����������) �� 
����&nbsp; �������� �����������, �� ������������� ����� ���������� ���������� � 
��������, ������ �� ������ �� ����� ����������, �� � �� ����� ����������. ����� 
�������, � Java ���� ��������� �� ����������� �������������� �������� ��� ����. 
� ���������� � ���� �������� �� "��������", � �� ������ ������ � ��� ��� � 
"���������� ����������". ��� ����� ���������� ���������� �������, ����������� �� 
������ ����� � ��������� ����� - � ��� ����������� �����, �������� ����������� 
���������� ����������, �� ��-�� ����� ������ � ���� ������������ �������� � 
����������� �����������.</p>
<h3><a name="Heading600"></a>����������� � ��������</h3>
<p class="pad">��������� ������ ������� ������ � �������� ���������, ����� ������ 
�����&nbsp; ���������� ��������� �� ��� �� ����� ������. ��������� ���������� 
������ �������� ��� �������������:</p>
<pre><font size=2><font color=#009900>//: ���������� �:PassReferences.java</font>
<font color=#009900>// �������� ������.</font>

<font color=#0000ff>public</font> <font color=#0000ff>class</font> PassReferences {
  <font color=#0000ff>static</font> <font color=#0000ff>void</font> f(PassReferences h) {
    System.out.println(<font color=#004488>"h ������ f(): "</font> + h);
  }
  <font color=#0000ff>public</font> <font color=#0000ff>static</font> <font color=#0000ff>void</font> main(String[] args) {
    PassReferences p = <font color=#0000ff>new</font> PassReferences();
    System.out.println(<font color=#004488>"p ������ main(): "</font> + p);
    f(p);
  }
} <font color=#009900>///:~</font></font></pre>
<p class="pad">� ���� ������� ��� ������ ����������� 
�� ����� ������������� ���������� ����� <b>toString()</b>, � 
<b>PassReferences</b> ����������� ��������������� �� ������ <b>Object</b>, ��� 
��������������� ������ <b>toString()</b>. ����� �������, ��� ���������� �������� 
������ ������� � ��� ������ (�� ������, � ����������� ������ �� �������� 
����������� ������) ������������ ����� <b>toString()</b> ������ <b>Object</b>. 
��������� ������ �������: </p>
<pre><font size=2>  p ������ main(): PassReferences@1653748
  h ������ f(): PassReferences@1653748</font>
</pre>
<p class="pad">��� �� ������, <b>p</b> � <b>h</b> ��������� �� ���� � ��� �� ������. ��� 
����� ���������� ��� ������������ ������ ������� <b>PassReferences</b> ���� ��� 
�������� ��������� ������, �� � �� �� ����� ��������� � ���������� 
����������.</p>
<h3><a name="Heading601"></a>����������� ������ (aliacing)</h3>
<p class="pad">������ "����������� ������" �������� ��� � ����� � ��� �� �������� ������� 
����� ��� ���� ������. �������� � ������������ �������� ��������� ��� ������� 
<i>��������� ������</i> � �������. ���� ��������� ������ ������ �� ������� ��� 
������ ���������, ����� ������� ������ ����� ����������� �� ���������� �������. 
�������� ������:</p>
<pre><font size=2><font color=#009900>//: ���������� �:Alias1.java</font>
<font color=#009900>// ��� ����������� ������ �� ���� � ��� �� ������.</font>

<font color=#0000ff>public</font> <font color=#0000ff>class</font> Alias1 {
  <font color=#0000ff>int</font> i;
  Alias1(<font color=#0000ff>int</font> ii) { i = ii; }
  <font color=#0000ff>public</font> <font color=#0000ff>static</font> <font color=#0000ff>void</font> main(String[] args) {
    Alias1 x = <font color=#0000ff>new</font> Alias1(7);
    Alias1 y = x; <font color=#009900>// ����������� ������</font>
    System.out.println(<font color=#004488>"x: "</font> + x.i);
    System.out.println(<font color=#004488>"y: "</font> + y.i);
    System.out.println(<font color=#004488>"����������� x"</font>);
    x.i++;
    System.out.println(<font color=#004488>"x: "</font> + x.i);
    System.out.println(<font color=#004488>"y: "</font> + y.i);
  }
} <font color=#009900>///:~</font></font></pre>
<p>� ������:</p>
<pre><font size=2>Alias1 y = x; <font color=#009900>// ����������� ������</font></font></pre>
<p class="pad">��������� ����� ������ <b>Alias1</b>, �� ������ ���� ����� ��������� �� 
��������� � �������������� ������� <b>new</b> ����� ������, �� ������������� 
�������� ��� ������������ ������. �������������, ���������� ������ <b>x</b> (�� 
���� ����� ������������ �������,&nbsp;�� ������� ��������� ��� ������) 
������������� ������ <b>y</b>. ����� ������� ��� ������ <b>x</b> � <b>y</b> 
������� � ����� � ��� �� �������� � ���������� �������� <b>x.i</b> � 
���������:</p>
<pre><font size=2>x.i++;</font></pre>
<p>����� �������� �� ����� ��������� �������� <b>y.i</b>, ��� � ����������� � 
���������� ���������� �������:</p>
<pre><font size=2>x: 7
y: 7
����������� x
x: 8
y: 8</font></pre>
<p class="pad">������������ ������ �������� �������� �������� - ����� �� ������������� 
����������� ������. ������������ � ����� ���������� �� ��������� �������������� 
������������� ����� ����� ������ �� ���� � ��� �� ������. ��� ������� ��� ����� 
�������� ����� ������������� � ������� � �������. ������, ��� �������� ������ 
������� ������ � �������� ��������� (Java ��������� ����� ��������) ��� ������ 
������������� ����������� � �������� ����������� � ��� � ������ ����� ������ �� 
��������� "��������" ������� (�.�. �� ������, ��������� ��� ������� ������). 
��������:</p>
<pre><font color=#009900 size=2>//: ���������� �:Alias2.java</font><font size=2>
<font color=#009900>// ��������� ����� �������� ������� ������</font>
<font color=#009900>// ��������� ������������ � �������� ��������� ������.</font>

<font color=#0000ff>public</font> <font color=#0000ff>class</font> Alias2 {
  <font color=#0000ff>int</font> i;
  Alias2(<font color=#0000ff>int</font> ii) { i = ii; }
  <font color=#0000ff>static</font> <font color=#0000ff>void</font> f(Alias2 reference) {
    reference.i++;
  }
  <font color=#0000ff>public</font> <font color=#0000ff>static</font> <font color=#0000ff>void</font> main(String[] args) {
    Alias2 x = <font color=#0000ff>new</font> Alias2(7);
    System.out.println(<font color=#004488>"x: "</font> + x.i);
    System.out.println(<font color=#004488>"����� ������ f(x)"</font>);
    f(x);
    System.out.println(<font color=#004488>"x: "</font> + x.i);
  }
} <font color=#009900>///:~</font></font></pre>
<p>����������� �����:</p>
<pre><font size=2>x: 7
����� ������ f(x)
x: 8</font></pre>
<p class="pad">����� ��������� ������, ������������ ��� � �������� ���������, �������� 
������� ������. � �������� ������� ��� ������� ������������� ��� ��������� 
���������� �����������, ����� ��� ��������� �� ��������� �������������� ��� 
������������ � �� ������� � ����� � ������ ���������.</p>
<p class="pad">�� ����, �������� �����, ���������� ������� �������, �� ������ ����� 
���������������� ������������ � ����������� ��� ����������. ��, �� ��������� 
"������� ��", ����� �������������� �� ��������� ������� ��������.</p>
<p class="pad">���� ��� ��� �� ���������� ������ ��������� � ������, ���������� � �������� 
���������, �� ��� ���� �� �� ������ �������� ������� ������ (�.�. ��������� 
����� ������� ���� �� ����� ���������� ������� ������), ����� ��� ������� 
�������������� ����������� ��� � ����� ������. ���� ��� ��� ����� ������� � 
����� ��������� ������� ����� ����� ����������.</p>
<h3><a name="Heading602"></a>�������� ��������� ����� ��������</h3>
<p class="pad">����, �������� ���� ���������������. � Java ��� �������� ���������� ������� 
������������ ������, ������� �� ����� ���� "��������� ������" ������� ������, �� 
����� ���� ���������� ���� ������ �� ���� ������, � ��� ������ ��������� �� 
��������� ������� ������ � ��� ��������, ����������� � ���� ������� ������ �� 
����� ��������� �� ������� �������. � ���:</p>
<ul>
  
<li>��� �������� ���������� ������ ������������� ��������� ����������� ������. 

  
<li>�� ������ ��������� ��������, ������ ������ ��������� ������. 
  
<li>� ������ ���� "������� ���������", � � �������� �� ���. 
  
<li>� Java ����������� �� ����� ��������� �������� ����� ��������. 
  
<li>� Java ��� ������� (�����, ��� ���������) ��� ������ ������� �� ��������� 
  (�������� ��� ������ �� ���������� ����������� ������������� ����������� 
  ������). </li>
</ul>
<p class="pad">���� �� ����������� ������ ������ ��� ������, ������ ����� ���������� ������ 
�� ������. ������, ������ ��������� ������������� ������ � �������� �� 
"��������� ������" ����� �������, ����� ��� �������� � ������ ��������� 
���������������� ������ �� ��� ��������� ����� � �� �������� ������� ������. �� 
������ ������ ���������������� ���������� ��������� ��������������� �������� 
��������� ����� �������� ������� ��� ������ � ������� [<a 
href="file:///C:/out/AppendixA1.htm#[79]">79</a>]. � Java ����� ���������� ���, 
�� ���� ���� ��� ����������� ��� ����� ��������.</p>
<h4><a name="Heading603"></a>�������� ���������� "�� ��������"</h4>
<p class="pad">��� ���������� ������ ������� � 
��������� ������� "�������� ���������� �� ��������" � �� ��� �� ����������� � 
���������. ���� ������ ����������� � ������������� ��������� ����� ����������, 
������������ ������ ������. ������ ������������ �������� ��������� ��������� � 
������������ ����������. ���������� ��� �������� ���������������� ������� �� 
���������:</p>
<ol>
  
<li>� Java ��� ��������� ���������� �� 
  ��������. ��������� ������ ���������, �� ��������� ��������� ����� ����������, 
  ��������� ������ ������, �� ��������� ��������� ����� ������. ����, ��� 
  ���������� �� ���������. ����������, ��� ����� ������� ��������� ��������� 
  ������� � ���, ��� �� ��������� ���� � ��������. ������ Java ���������� ����� 
  �������, ��� (� ����������� �������) ��������� ��� ������ � ��� ��� �� 
  ��������� ���� � �������� � ������ � ������� ��� �� "��������", �� ���� �� ��� 
  ���, ���� �� �� ����������� ������� �����-������ �����. 
  
<li>��������� � Java ���������� �� 
  ��������, � ������� ���������� ��� ������. ��� ������������ ������ �� ������. 
  ��� ����� ������� ��� <i>�� ����</i> ������ � ���������� ��� � �������. � 
  ����� ������ �� ������ ����������: "� ������� ������". ��������� ��� �������� 
  ������� � ����� �� �� �������� ��� ��������� �����, ������ ������� ��� ������� 
  ���������� �� ��������. �������� � ������� �������� Sun ��������� �����-������ 
  ������� ���� ��������. � Java ���������������, �� ���� �� ������������ 
  �������� ����� <b>byvalue</b> (�� ��������), �� �� ����������� ���� ��� 
  ������� ����������� ���������� � ���, ����� �� ������ �����-������ 
  ������������ ��� �������� �����. </li>
</ol>
<p class="pad">����, ���������� ��� ����� ������, � 
����� ���: "��� ��� ������� ���� �� ������ ������������� � �������." ������ 
�������� � ����� ��������. � ����� ������, ��� <i>�� ��� �����</i>, ������� 
������ ��������� ����, ��� �������� ������ � �������� ���������� ����� �������� 
� ����������� ���������� ������� ��������.</p>
<h4><a name="Heading604"></a>������������ ��������</h4>
<p class="pad">�������� ����� ������������ ����������� � ��� �������, ����� � �������� 
������ ������ ���������� ������ ��������� � ������, �� ������� ��� ���� ������� 
������. ��� �������� ��������� ����� ������� ���� ��������������� ������� 
<b>clone()</b>. ��� ���������� (<b>protected</b>) ����� �������� ������ 
<b>Object</b> � ��� ��� �� ��� ���������, ��� �������������� ��� ��� 
<b>public</b> �� ���� �������, ������� �� ����������� �����������. ��������, 
������������� ����� <b>clone()</b> ��� ������ ����������� ���������� 
<b>ArrayList</b>, ��� ����������� ������������� <b>clone()</b> ������������� � 
<b>ArrayList</b>:</p>
<pre><font size=2><font color=#009900>//: ���������� �:Cloning.java</font>
<font color=#009900>// �������� clone() �������� ������ ���</font>
<font color=#009900>// ���������� ��������� ����������� ���������� Java.</font>
<font color=#0000ff>import</font> java.util.*;

<font color=#0000ff>class</font> Int {
  <font color=#0000ff>private</font> <font color=#0000ff>int</font> i;
  <font color=#0000ff>public</font> Int(<font color=#0000ff>int</font> ii) { i = ii; }
  <font color=#0000ff>public</font> <font color=#0000ff>void</font> increment() { i++; }
  <font color=#0000ff>public</font> String toString() { 
    <font color=#0000ff>return</font> Integer.toString(i); 
  }
}

<font color=#0000ff>public</font> <font color=#0000ff>class</font> Cloning {
  <font color=#0000ff>public</font> <font color=#0000ff>static</font> <font color=#0000ff>void</font> main(String[] args) {
    ArrayList v = <font color=#0000ff>new</font> ArrayList();
    <font color=#0000ff>for</font>(<font color=#0000ff>int</font> i = 0; i &lt; 10; i++ )
      v.add(<font color=#0000ff>new</font> Int(i));
    System.out.println(<font color=#004488>"v: "</font> + v);
    ArrayList v2 = (ArrayList)v.clone();
    <font color=#009900>// ���������� ���� ��������� v2:</font>
    <font color=#0000ff>for</font>(Iterator e = v2.iterator();
        e.hasNext(); )
      ((Int)e.next()).increment();
    <font color=#009900>// �������� ��������� ��������� v:</font>
    System.out.println(<font color=#004488>"v: "</font> + v);
  }
} <font color=#009900>///:~</font></font></pre>
<p class="pad">����� <b>clone()</b> ������� ������ ���� <b>Object</b>, ������� ����� ������ 
���� ������������ � ������ ������� ����. �� ������� ����� ��� ����� 
<b>clone()</b> ������� <b>ArrayList</b> <i>�� ���������</i> �������������� 
������������ ���� ��������, ������� ���������� � <b>ArrayList</b> - ������ 
<b>ArrayList</b> � ������������� <b>ArrayList</b> �������� ������������ �������� 
������ � ���� �� �������. ��� ��� ���������� <i>������������� �����������</i>, 
����� ���������� ������ "�����������" �������. ��� ������ �������� ��� 
���������� "�����������" ���� ��� �� �������, �� ������� ��������� ������ ������ 
����, ���� ��� �� �������, �� ������� � ���� ������� ��������� <i>��</i> 
�������, � �.�. ����� ������� ���������� "����� ��������", � ������ ����������� 
���� ���� ������� ��������� ���������� <i>�������� ������������</i>.</p>
<p class="pad">� ����������� ���� ������� �� ������ ��������� ��������� �������������� 
�����������, ��� ������� ��������, ����������� � <b>v2</b> ���������� �� 
��������� <b>v</b>:</p>
<p>v: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]&nbsp;<br>
v: [1, 2, 3, 4, 5, 6, 7, 8, 9, 
10]</p>
<p class="pad">�� ������� ������������ <b>clone()</b> ��� ������������ ��������, 
������������ � <b>ArrayList</b>, ��������� ��� ������� �������� ��� ��� ������� 
����� ������������ (cloneable) [<a 
href="file:///C:/out/AppendixA1.htm#[80]">80</a>].</p>
<h4><a name="Heading605"></a>���������� ������������� � �����</h4>
<p class="pad">�������� �� �� ��� ����� ������������ ��������� � ������ <b>Object</b>, 
���������� ������� ��� ���� ������� Java, ��� <i>��</i> �������� ��� �� 
������������� ����� ���� �������� � ������ ������ [<a 
href="file:///C:/out/AppendixA1.htm#[81]">81</a>]. �������� ��, ��� ���� � 
������ � ��������� ������������ ��������� ��������� ������� ������������ 
�������. �������������, � Java ������������ ���� ������� � ���� ���������. 
�������, ���� �� ������ ������� ��� ������� ��������� ��� ������ ������, �� 
������ �������� ��������������� ���, �������������� ���������� ������ ������ 
������������.</p>
<h5><a name="Heading606"></a>������������� ������ � protected</h5>
<p class="pad">��� ������������ ����������� ������������ �� ���� ������� Java, � ������� 
������ <b>Object</b> ����� <b>clone()</b> ��� ������ ��� ���������� 
(<b>protected</b>). ��� �� ������ ��������� ����������� ������������� ������ 
������������&nbsp;�������������, ������ ������������ (�� �����������) ���� 
�����, �� � �������� ��� �� �� ������ ������������ <b>clone()</b> ��������� 
������ �� ������� �����. (���� ��� ����� ���������� ��������. ��������, ��� 
����������� ������������ ������ ������� <b>Object</b>). ����� ����� �������� ��� 
����, ����� �� ����� ���������� ������������� � ��� ��� ������ ������ �������� 
�������������. ��� �� �������, ����������� ������� ����������� ��������� Java 
�������������. �������, �������:</p>
<p>Integer x = <b><font color=#0000ff>new</font></b> <b>Integer(1);</b><br>
x = 
<b>x.clone();</b></p>
<p class="pad">�� ����� ���������� ��� �������� � ������������� ������. ���������� ������ 
��������� � ��� ��� ����� <b>clone()</b> ���������� (��������� <b>Integer</b> �� 
�������������� ��� � �� �� ��������� �������� ���������� (<b>protected</b>)). 
������, ���� ��&nbsp;��������� � �������, ����������� ��&nbsp; <b>Object</b> (� 
��� ��� ������ ����� Java), �� � ��� ���� ����������� ������� ����� 
<b>Object.clone()</b>, ��������� ���� ����� �������� ���������� 
(<b>protected</b>), � ��� ������ �������� ��������-����������� �� ��������� � 
������ <b>Object</b>. ����� <b>clone() </b>������ <b>Object</b> �������� 
��������� ��������������� ������������� - �� ������������ ����������� 
������������ <i>������������� ������ �������</i>, ��� � �������� �������� 
��������� ��� ������������ �������. ��� �� ����� ��� ����� ���������� �������� 
<i>�����������</i> ����� ������������ � ������� �� ��� <b>public</b>. ����, ��� 
�������� ������� ��� ���������� ������������ ���:</p>
<ul>
  
<li>������������ ����� ������ <b>super.clone()</b> 
  
<li>��������� ������������ <b>public</b> ������ ������������&nbsp; </li>
</ul>
<p class="pad">� ���������� ��� �������� ������������ �������������� ��� ����� <b>clone() 
</b>��� �������-�����������, ��������� ����� ��� �� ������������ ����� 
�������������� ��� (������ ��� <b>public</b>) ����� <b>clone()</b>, ������� 
����� �� ��������� ����� ������� ��� ���� ������� (����, ��������� �������� 
����� ������ ������� ������������ ����� <b>Object.clone()</b>, �������� ������� 
����� � �� ����). ����� ����� � ���������������� ����������� (<b>protected</b>) 
������ <b>clone()</b> ����� ����������� ������ ����� �� ���������� �� 
����������� ����� � ������ �� ��� ���� ������� �����, �������������� 
������������. ��� ���� ��� ��� ������, ����������� ��� �����, � ���� ������� 
���������� � ��������� ���� ����� <b>clone()</b>, ��������� � Java ������ 
�������� ������ ����������� �������. ����� �������, ���� ��� ����� �������� 
�����������, �� � ��� ����������� ��� ������ ����� ����� ������������, ���� 
������ �� �� ��������� ������ "����������" ������������� (��� �������� 
����������� �����).</p>
<h5><a name="Heading607"></a>���������� ���������� Cloneable</h5>
<p class="pad">��� �������� ����������� �������� ��� ����������� ������ ���������� 
<b>Cloneable ����������</b>. ���� ��������� ������������ ��� ���, ��� �� 
���������� ������!</p>
<p><font color=#0000ff>interface</font> Cloneable {}</p>
<p class="pad">��������, ��� ������� ������������ ������� ���������� ����� �� ������� � 
����������� �������������� ��� �������. � ������ ������ ��������� ������������ � 
������������� �����. �� ������ ������ ���� "������" ��� ���� ������. ���������� 
��� ������� ������������� ���������� <b>Cloneable</b>. ������ ����������� � ���, 
��� �� ������ ������������ ������ �� ������� ��� � ��� ���� �� �����, �������� 
�� �� ����������� ��� ���. � ����� ������� �� ������ ������������ �������� ����� 
<b>instanceof</b> (������������� � ����� 12) ��� ���������, �������� �� ������ � 
������� ������� ������ ����������:</p>
<p><font color=#0000ff>if</font>(myReference <font 
color=#0000ff>instanceof</font> Cloneable) <font color=#009900>// ...</font></p>
<p class="pad">������ ������� ������� � �������������� ����������� ������������ � �������. 
����� ������� ������ ����� <b>Object.clone()</b> ������������ �������� ������ �� 
���������� ���������� <b>Cloneable</b> �, ���� ����� �� ��������� ���� 
���������, ���������� �������� <b>CloneNotSupportedException</b>. ������� ��� 
��������� ������������ �� ��������� ����������� ��������� <b>Cloneable</b>.</p>
<h4><a name="Heading608"></a>�������� ������������</h4>
<p class="pad">������, ����� �� ������������� � �������� ���������� ������ <b>clone()</b>, 
����� ���������� � �������� �������, ����������� � ��������� ��������� 
�����.</p>
<pre><font size=2><font color=#009900>//: ���������� �:LocalCopy.java</font>
<font color=#009900>// �������� ��������� ����� ��������� ����� clone().</font>
<font color=#0000ff>import</font> java.util.*;

<font color=#0000ff>class</font> MyObject <font color=#0000ff>implements</font> Cloneable {
  <font color=#0000ff>int</font> i;
  MyObject(<font color=#0000ff>int</font> ii) { i = ii; }
  <font color=#0000ff>public</font> Object clone() {
    Object o = <font color=#0000ff>null</font>;
    <font color=#0000ff>try</font> {
      o = <font color=#0000ff>super</font>.clone();
    } <font color=#0000ff>catch</font>(CloneNotSupportedException e) {
      System.err.println(<font color=#004488>"MyObject �� ����� ���� ����������"</font>);
    }
    <font color=#0000ff>return</font> o;
  }
  <font color=#0000ff>public</font> String toString() {
    <font color=#0000ff>return</font> Integer.toString(i);
  }
}

<font color=#0000ff>public</font> <font color=#0000ff>class</font> LocalCopy {
  <font color=#0000ff>static</font> MyObject g(MyObject v) {
    <font color=#009900>// �������� ������, ������� �������� ������� ������:</font>
    v.i++;
    <font color=#0000ff>return</font> v;
  }
  <font color=#0000ff>static</font> MyObject f(MyObject v) {
    v = (MyObject)v.clone(); <font color=#009900>// ��������� �����</font>
    v.i++;
    <font color=#0000ff>return</font> v;
  }
  <font color=#0000ff>public</font> <font color=#0000ff>static</font> <font color=#0000ff>void</font> main(String[] args) {
    MyObject a = <font color=#0000ff>new</font> MyObject(11);
    MyObject b = g(a);
    <font color=#009900>// �������� ������ (�� ��������) �� ���������</font>
    <font color=#0000ff>if</font>(a == b) 
      System.out.println(<font color=#004488>"a == b"</font>);
    <font color=#0000ff>else</font> 
      System.out.println(<font color=#004488>"a != b"</font>);
    System.out.println(<font color=#004488>"a = "</font> + a);
    System.out.println(<font color=#004488>"b = "</font> + b);
    MyObject c = <font color=#0000ff>new</font> MyObject(47);
    MyObject d = f(c);
    <font color=#0000ff>if</font>(c == d) 
      System.out.println(<font color=#004488>"c == d"</font>);
    <font color=#0000ff>else</font> 
      System.out.println(<font color=#004488>"c != d"</font>);
    System.out.println(<font color=#004488>"c = "</font> + c);
    System.out.println(<font color=#004488>"d = "</font> + d);
  }
} <font color=#009900>///:~</font></font></pre>
<p class="pad">������ �����, ����� <b>clone()</b> ������ ���� �������������, �.�. ������ 
���� ������������� ��� <b>public</b>. ��-������, � ������ ������� ������ ������ 
<b>clone()</b> ������ ���������� ����� �������� ������ <b>clone()</b>. 
���������� ����� ������� ����� <b>clone()</b> ����������� ������ <b>Object</b>, 
� �� ������ ����������� ��� ������, ��������� �� ��������� ��� <b>protected</b> 
� ������ �������� ��� �������� �������.</p>
<p class="pad">����� <b>Object.clone()</b> ���������� ������ �������, �������� ����������� 
���������� ��������� ������ ��� �������� ����� � ������������ �������� 
�����������. ��� ��������� ���������� <i>����������� ������������</i> � �������� 
����� ������������. �� ����� ����������� ���� �������� <b>Object.clone()</b> 
��������� ��������, �������� �� ���������� ������ ����������� - �� ����, 
��������� �� �� ��������� <b>Cloneable</b>. ���� ��� - <b>Object.clone()</b> 
���������� �������������� �������� <b><font 
color=#000000>CloneNotSupportedException</font></b>, ��������������� � ���, ��� 
������ ������ �� ����� ���� ����������. ����� ������� �� ������ ��������� ����� 
������ <b><font color=#000000>super.clone( )</font></b> � ���� ���������� 
<b>try</b>-<b>catch</b>, ����� ������������� � ������������ �������� ��������, 
������� �� ������ ���������� (��������� �� ���������� ��������� 
<b>Clonable</b>).</p>
<p class="pad">� ����������� ���� ������� ������ <b>g()</b> � <b>f()</b> ������ 
<b>LocalCopy</b> ������������� �������� ����� ����� ��������� �������� 
���������. <b>g()</b>&nbsp;������������� �������� �� ������, ������� �� �������� 
��� �������, � ����� ������������ ������ �� ���� ������� ������. <b>f()</b> 
��������� ��������, � ����� ��������� ���, ����� ������� �������� ���� 
�������������� ������. ����� ����� � �������� ����� ����������� ����� ��������, 
������ �� ����������� ������ �� ����, � ��� ����� �� ��������� �� 
�������-���������. �������� ���� �������� �� ���������� ���������:</p>
<p>v = (MyObject)v.clone();</p>
<p class="pad">������ ����� ������� �������������� ��������� �����. ����� ������������� 
�����������, ��������� � �������������� ������ ���������, ������ ��������� ��� 
����� �������� ��������� ������ ������ ������� ��� Java, ��������� ��� 
�������������� �������� �������� ��������. ������� ������ <b>v</b> � ������� 
������ <b>clone() </b>������������ ��� �������� ����� �������, �� ������� ��� 
���������, � � ���������� ������ �������� ������������ ������ �� ������� ��� 
<b>Object</b> (��������� �� ��������� ����� ������� � <b>Object.clone()</b>) � 
������ ����� ���� �������� � ���������������� ����.</p>
<p>���������� <b>main()</b> ��������� ��������� ������� ����� ����� ����� 
�������� ��������:</p>
<pre><font size=2>a == b
a = 12
b = 12
c != d
c = 47
d = 48</font></pre>
<p class="pad">����� �������� ��� ��� �������� �� ��������� ������ � Java �� ���������� 
��������� ����� �������� ����������, ������������ � ���� ��������. ��������� == 
� != ������ ���������� ���� <i>������</i>. ���� ������ ������ ���������, ������ 
��� ������ ��������� �� ���� � ��� �� ������ � ������������� ��� "�����". ����� 
�������, �� ����� ���� ��������� ���� ���������, �������� �� ������ ������������ 
�������� �� ���� � ��� �� ������.</p>
<h3><a name="Heading609"></a>������� ������ Object.clone()</h3>
<p class="pad">��� �� ���������� ��� ������ <b>Object.clone()</b> � ��� ������� 
������������� ������ ������ <b>super.clone()</b> ��� ��������������� ������ 
<b>clone()</b> � ����� ������? ����� <b>clone()</b> �������� ������ �������� �� 
��������� ������������ ���������� ������ ��� �������� � ������������ ����������� 
����� �� �������� ������ � ����� ������. �� ��� �� ������ �������� � ����������� 
�������, � ������ ������ ����������� �������� �������.</p>
<p class="pad">��� ��� �������� ������� � ���� ������ <b>clone</b> �������� ������ (������� 
��� ������� ��� ���������� �����-���� ���������� � ��������� �������, ������� 
����� ��� �����������), ����� ������������ ��� ��� ����������� ������������ 
������� ������������ ���������� RTTI. ��� �� ��� �� ����, ����� <b>clone()</b> 
����� ������������ �������� �� ��������� ������ � ������������ ����������� 
������� ����� ����.</p>
<p class="pad">��� �� �� �� ������, ������ ��������� ������ ������ <b>clone()</b> ������ 
���� ����� ������ <b>super.clone()</b>. ��� �������� �������� ������� �������� 
������������ � ������������ �������� ������� ���������. ����� ����� ��������� 
������ ��������, ����������� ��� ���������� ������������.</p>
<p class="pad">��� ����, ����� ������������ � ���� �������� �� ������ ����� ������������ 
���� ��� ��������� <b>Object.clone()</b>. � ���������, ������������ �� �� 
�������������� ����������� ��������, �� ������� ��������� ������? ����� �� ���� 
������ �� ������� �� ���������� �������:</p>
<pre><font size=2><font color=#009900>//: ���������� �:Snake.java</font>
<font color=#009900>// ��������� ������������ ��� �����������</font>
<font color=#009900>// ���� �� ����������� ���������� ������ �� ������ �������</font>

<font color=#0000ff>public</font> <font color=#0000ff>class</font> Snake <font color=#0000ff>implements</font> Cloneable {
  <font color=#0000ff>private</font> Snake next;
  <font color=#0000ff>private</font> <font color=#0000ff>char</font> c;
  <font color=#009900>// �������� i == ���������� ���������</font>
  Snake(<font color=#0000ff>int</font> i, <font color=#0000ff>char</font> x) {
    c = x;
    <font color=#0000ff>if</font>(--i &gt; 0)
      next = <font color=#0000ff>new</font> Snake(i, (<font color=#0000ff>char</font>)(x + 1));
  }
  <font color=#0000ff>void</font> increment() {
    c++;
    <font color=#0000ff>if</font>(next != <font color=#0000ff>null</font>)
      next.increment();
  }
  <font color=#0000ff>public</font> String toString() {
    String s = <font color=#004488>":"</font> + c;
    <font color=#0000ff>if</font>(next != <font color=#0000ff>null</font>)
      s += next.toString();
    <font color=#0000ff>return</font> s;
  }
  <font color=#0000ff>public</font> Object clone() {
    Object o = <font color=#0000ff>null</font>;
    <font color=#0000ff>try</font> {
      o = <font color=#0000ff>super</font>.clone();
    } <font color=#0000ff>catch</font>(CloneNotSupportedException e) {
      System.err.println(<font color=#004488>"���� �� ����� ���� �����������"</font>);
    }
    <font color=#0000ff>return</font> o;
  }
  <font color=#0000ff>public</font> <font color=#0000ff>static</font> <font color=#0000ff>void</font> main(String[] args) {
    Snake s = <font color=#0000ff>new</font> Snake(5, 'a');
    System.out.println(<font color=#004488>"s = "</font> + s);
    Snake s2 = (Snake)s.clone();
    System.out.println(<font color=#004488>"s2 = "</font> + s2);
    s.increment();
    System.out.println(
      <font color=#004488>"after s.increment, s2 = "</font> + s2);
  }
} <font color=#009900>///:~</font></font></pre>
<p class="pad"><font size=2>&nbsp;</font>������ <b>Snake</b> (����) ������� �� ���������� 
���������, ������ �� ������� ����� ����������� ���� <b>Snake</b> � �� ���� 
������������ ����� ��������� ���������� ������� ������. �������� ��������� 
���������� � ����������� �������� ������� ��������� ������������ �� ��� 
���,&nbsp; ���� ��� �� ������ ������� ��������. ��� ����, ����� ��������� 
������� �������� ���������� �����, ��� ������ ��������� ����������� ������ 
������������ �������� ������� ��������� ������������ ���� <b>char</b> 
�������������.</p>
<p class="pad">����� <b>increment()</b> ���������� ����������� ������ �����, � ����� 
<b>toString()</b> ���������� �������� ������ �����:</p>
<p>s = :a:b:c:d:e<br>
s2 = :a:b:c:d:e<br>
����� s.increment, s2 = :a:c:d:e:f</p>
<p class="pad">��� �������� ��� ����� <b>Object.clone()</b> ������ �������� ������ ������� 
��������, �� ���� ���������� ������������� �����������. ���� �� ������ ������� 
�������� ���� ���� (���������� �������� �����������), ��� ����������� �������� 
�������������� ��� � ���������������� ����� clone().</p>
<p class="pad">��� ����� ��, ��� ������, ������ ������� ����� <b>super.clone()</b>, ����� 
���� ���������� ��� ��� ������ ��������������� �� ������������ ������ ����� 
��������� ��� ����������� �������� (������� ����� ������ <b>Object.clone()</b>). 
����� ��������� ����� ����� ������ <b>clone()</b> ��� ���� ������, 
�������������� � ����� �������, ����� ��� ������ �������� ����� ���� 
������������ �������� �� �������� �������. ��� ���������� ���� ��� 
�������������� ����� ������������: ������� ����������� �������� ������, � ����� 
����������� ��� ���������� ������-����������. � ��� ����� ������ �� ������ 
������������ ������ ���������� ������. ������� ����������� � ���, ��� ����� 
<b>clone()</b> �� �������� ������������� � ������� ����� � ��� �� ���������� 
�������������. ��� �������� ����������� ��� ������� ��������������.</p>
<h4><a name="Heading610"></a>������������ ��������� ��������</h4>
<p class="pad">���������� ���� ��������, � ������� ��� �������� ����������� ��� ���������� 
��������� ����������� ��������� ��������. �� ������ ������������� ���������� 
������� <b>clone()</b> ��������� ����������� ������ ��� ������������ ��� 
��������, � �����, � ���� �������, ��� ������ <i>����</i> �������� � ��� �����. 
��� ����������� ������� ��������� �����������. ����� �������, �� ������ �������, 
��� �� ������� ����, ����������� ������������ �������� � ���� ���� �������, 
����������� � �������� ����������� � ���� ���������� � ��� ��� �� ����������� 
��������� ���������&nbsp;����������� �������� ����������.</p>
<p class="pad">��������� ������ ���������� ������������������ �������� ��� ������������� 
��������� ����������� ���������� �������:</p>
<pre><font size=2><font color=#009900>//: ���������� �:DeepCopy.java</font>
<font color=#009900>// ������������ ��������� ��������</font>

<font color=#0000ff>class</font> DepthReading <font color=#0000ff>implements</font> Cloneable {
  <font color=#0000ff>private</font> <font color=#0000ff>double</font> depth;
  <font color=#0000ff>public</font> DepthReading(<font color=#0000ff>double</font> depth) { 
    <font color=#0000ff>this</font>.depth = depth;
  }
  <font color=#0000ff>public</font> Object clone() {
    Object o = <font color=#0000ff>null</font>;
    <font color=#0000ff>try</font> {
      o = <font color=#0000ff>super</font>.clone();
    } <font color=#0000ff>catch</font>(CloneNotSupportedException e) {
      e.printStackTrace(System.err);
    }
    <font color=#0000ff>return</font> o;
  }
}

<font color=#0000ff>class</font> TemperatureReading <font color=#0000ff>implements</font> Cloneable {
  <font color=#0000ff>private</font> <font color=#0000ff>long</font> time;
  <font color=#0000ff>private</font> <font color=#0000ff>double</font> temperature;
  <font color=#0000ff>public</font> TemperatureReading(<font color=#0000ff>double</font> temperature) {
    time = System.currentTimeMillis();
    <font color=#0000ff>this</font>.temperature = temperature;
  }
  <font color=#0000ff>public</font> Object clone() {
    Object o = <font color=#0000ff>null</font>;
    <font color=#0000ff>try</font> {
      o = <font color=#0000ff>super</font>.clone();
    } <font color=#0000ff>catch</font>(CloneNotSupportedException e) {
      e.printStackTrace(System.err);
    }
    <font color=#0000ff>return</font> o;
  }
}

<font color=#0000ff>class</font> OceanReading <font color=#0000ff>implements</font> Cloneable {
  <font color=#0000ff>private</font> DepthReading depth;
  <font color=#0000ff>private</font> TemperatureReading temperature;
  <font color=#0000ff>public</font> OceanReading(<font color=#0000ff>double</font> tdata, <font color=#0000ff>double</font> ddata){
    temperature = <font color=#0000ff>new</font> TemperatureReading(tdata);
    depth = <font color=#0000ff>new</font> DepthReading(ddata);
  }
  <font color=#0000ff>public</font> Object clone() {
    OceanReading o = <font color=#0000ff>null</font>;
    <font color=#0000ff>try</font> {
      o = (OceanReading)<font color=#0000ff>super</font>.clone();
    } <font color=#0000ff>catch</font>(CloneNotSupportedException e) {
      e.printStackTrace(System.err);
    }
    <font color=#009900>// ���������� ����������� ������:</font>
    o.depth = (DepthReading)o.depth.clone();
    o.temperature = 
      (TemperatureReading)o.temperature.clone();
    <font color=#0000ff>return</font> o; <font color=#009900>// �������� ��� � Object</font>
  }
}

<font color=#0000ff>public</font> <font color=#0000ff>class</font> DeepCopy {
  <font color=#0000ff>public</font> <font color=#0000ff>static</font> <font color=#0000ff>void</font> main(String[] args) {
    OceanReading reading = 
      <font color=#0000ff>new</font> OceanReading(33.9, 100.5);
    <font color=#009900>// ������ ��������� ���:</font>
    OceanReading r = 
      (OceanReading)reading.clone();
  }
} <font color=#009900>///:~</font></font></pre>
<p class="pad">������ <b>DephReading</b> (��������� �������) � <b>TemperatureReading</b> 
(��������� �����������) ����� ������, ��� ��� �������� ������ ���������. 
������������� � ����� <b>clone()</b> ��� ���� ������� ����� ��������� �����: �� 
�������� <b>super.clone()</b> � ���������� ���������. �������� ���&nbsp; ��� ��� 
����� ������� <b>clone()</b> ��������� ���������.</p>
<p class="pad"><b>OceanReading</b> (������������ ������) ������� �� �������� 
<b>DephReading</b> � <b>TemperatureReading</b> � �������, ��� ���������� 
��������� �����������, ��� ����� <b>clone()</b> ������ ����������� ��� ������ 
������ ������ <b>OceanReading</b>. ��� ���������� ���� ������ ��������� 
<b>super.clone()</b> ������ ���������� ������ �� ������ <b>OceanReading</b> 
(����� �������, �� �������� ������ � ������� �� ������� ������� � 
�����������).</p>
<h4><a name="Heading611"></a>�������� ����������� ��� ������ ArrayList</h4>
<p class="pad">������� �������� ���������� ����������� ����� � ���� ���������� ������ � 
<b>ArrayList</b>. ������ ����� <b>Int2</b> - ����������� � ����� ���������� 
�������� ����������� <b>ArrayList</b>:</p>
<pre><font size=2><font color=#009900>//: ���������� �: AddingClone.java</font>
<font color=#009900>// ��� ���������� ������������ � ��� �����</font>
<font color=#009900>// ����������� ��������� ������.</font>
<font color=#0000ff>import</font> java.util.*;

<font color=#0000ff>class</font> Int2 <font color=#0000ff>implements</font> Cloneable {
  <font color=#0000ff>private</font> <font color=#0000ff>int</font> i;
  <font color=#0000ff>public</font> Int2(<font color=#0000ff>int</font> ii) { i = ii; }
  <font color=#0000ff>public</font> <font color=#0000ff>void</font> increment() { i++; }
  <font color=#0000ff>public</font> String toString() {
    <font color=#0000ff>return</font> Integer.toString(i);
  }
  <font color=#0000ff>public</font> Object clone() {
    Object o = <font color=#0000ff>null</font>;
    <font color=#0000ff>try</font> {
      o = <font color=#0000ff>super</font>.clone();
    } <font color=#0000ff>catch</font>(CloneNotSupportedException e) {
      System.err.println(<font color=#004488>"Int2 �� ����� ���� ����������"</font>);
    }
    <font color=#0000ff>return</font> o;
  }
}

<font color=#009900>// ��������� �� �����������, ������������</font>
<font color=#009900>// �� ������� ��� �� �����������:</font>
<font color=#0000ff>class</font> Int3 <font color=#0000ff>extends</font> Int2 {
  <font color=#0000ff>private</font> <font color=#0000ff>int</font> j; <font color=#009900>// ������������� �����������</font>
  <font color=#0000ff>public</font> Int3(<font color=#0000ff>int</font> i) { <font color=#0000ff>super</font>(i); }
}

<font color=#0000ff>public</font> <font color=#0000ff>class</font> AddingClone {
  <font color=#0000ff>public</font> <font color=#0000ff>static</font> <font color=#0000ff>void</font> main(String[] args) {
    Int2 x = <font color=#0000ff>new</font> Int2(10);
    Int2 x2 = (Int2)x.clone();
    x2.increment();
    System.out.println(
      <font color=#004488>"x = "</font> + x + <font color=#004488>", x2 = "</font> + x2);
    <font color=#009900>// ��� ���������� ����� �������� ������������:</font>
    Int3 x3 = <font color=#0000ff>new</font> Int3(7);
    x3 = (Int3)x3.clone();

    ArrayList v = <font color=#0000ff>new</font> ArrayList();
    <font color=#0000ff>for</font>(<font color=#0000ff>int</font> i = 0; i &lt; 10; i++ )
      v.add(<font color=#0000ff>new</font> Int2(i));
    System.out.println(<font color=#004488>"v: "</font> + v);
    ArrayList v2 = (ArrayList)v.clone();
    <font color=#009900>// ������ ��������� ������ �������:</font>
    <font color=#0000ff>for</font>(<font color=#0000ff>int</font> i = 0; i &lt; v.size(); i++)
      v2.set(i, ((Int2)v2.get(i)).clone());
    <font color=#009900>// ������������������� ���� ��������� v2:</font>
    <font color=#0000ff>for</font>(Iterator e = v2.iterator();
        e.hasNext(); )
      ((Int2)e.next()).increment();
    <font color=#009900>// �������, ���������� �� �������� ��������� v:</font>
    System.out.println(<font color=#004488>"v: "</font> + v);
    System.out.println(<font color=#004488>"v2: "</font> + v2);
  }
} <font color=#009900>///:~</font></font></pre>
<p class="pad"><b>Int3</b> ��������� <b>Int2</b> � ��������� ����� �������� <b>int j</b>. 
��� ����� ���������� ��� ����� ����������� ��������������� ������ <b>clone()</b> 
��� ����������� ����������� <b>j</b>, �� � ������ ������ ��� �� ���. ����� ��� 
������ ������ <b>clone()</b> ������ <b>Int3</b> ���������� ����� <b>clone()</b> 
������ <b>Int2</b>, � �� � ���� ������� �������� ����� <b>Object.clone()</b>, 
������� ���������� ��� �������� � ������� <b>Int3</b> � ������� ��������� 
��������&nbsp; ������ <b>Int3</b>. ����� �������, �� ��� ���, ���� �� �� 
����������� � ����� ������� ������, ������� ������� ������������, ���������� 
������ ������ ������ <b>Object.clone()</b>, ���������� �� ���� ��������� ���� 
����� ������ �� ������ ������ �� �������� ��������.</p>
<p class="pad">��� ������, ��� ��������� ����������� <b>ArrayList</b> ��������� 
���������������� ���������� �������� ������������ ��� ���� ��������, �� ������� 
��������� <b>ArrayList</b>. ����� �������� ��������� � ��� ��������� 
������������ <b>HashMap</b>.</p>
<p class="pad">��������� ����� ������� ����� � �������� ������������ ��������� ������������, 
��������� ��� ���������, �������� � ������������� �������, �� ���������� �� 
��������� �������� ��������.</p>
<h4><a name="Heading612"></a>�������� ����������� ��� ������ ������������ (serialization)</h4>
<p class="pad">������ �������������� � ���������������� ����� ���������� � Java 
(������������� � ����� 11), �� ����� �������� �������� �� ��, ��� ��� ���������� 
� ����������� �������� ���������� ����������� �������� ������������.</p>
<p class="pad">��� ������ �� �� ������������ ���������� ��� ��������� �����������? ��������� 
������ ���������� ��� ��� ������ �� �������� �������:</p>
<blockquote>
<pre><font size=2><font color=#009900>//: ���������� �:Compete.java</font>
<font color=#0000ff>import</font> java.io.*;

<font color=#0000ff>class</font> Thing1 <font color=#0000ff>implements</font> Serializable {}
<font color=#0000ff>class</font> Thing2 <font color=#0000ff>implements</font> Serializable {
  Thing1 o1 = <font color=#0000ff>new</font> Thing1();
}

<font color=#0000ff>class</font> Thing3 <font color=#0000ff>implements</font> Cloneable {
  <font color=#0000ff>public</font> Object clone() {
    Object o = <font color=#0000ff>null</font>;
    <font color=#0000ff>try</font> {
      o = <font color=#0000ff>super</font>.clone();
    } <font color=#0000ff>catch</font>(CloneNotSupportedException e) {
      System.err.println(<font color=#004488>"Thing3 �� ����� ���� ����������"</font>);
    }
    <font color=#0000ff>return</font> o;
  }
}

<font color=#0000ff>class</font> Thing4 <font color=#0000ff>implements</font> Cloneable {
  Thing3 o3 = <font color=#0000ff>new</font> Thing3();
  <font color=#0000ff>public</font> Object clone() {
    Thing4 o = <font color=#0000ff>null</font>;
    <font color=#0000ff>try</font> {
      o = (Thing4)<font color=#0000ff>super</font>.clone();
    } <font color=#0000ff>catch</font>(CloneNotSupportedException e) {
      System.err.println(<font color=#004488>"Thing4 �� ����� ���� ����������"</font>);
    }
    <font color=#009900>// ����������� ����:</font>
    o.o3 = (Thing3)o3.clone();
    <font color=#0000ff>return</font> o;
  }
}

<font color=#0000ff>public</font> <font color=#0000ff>class</font> Compete {
  <font color=#0000ff>static</font> <font color=#0000ff>final</font> <font color=#0000ff>int</font> SIZE = 5000;
  <font color=#0000ff>public</font> <font color=#0000ff>static</font> <font color=#0000ff>void</font> main(String[] args) 
  <font color=#0000ff>throws</font> Exception {
    Thing2[] a = <font color=#0000ff>new</font> Thing2[SIZE];
    <font color=#0000ff>for</font>(<font color=#0000ff>int</font> i = 0; i &lt; a.length; i++)
      a[i] = <font color=#0000ff>new</font> Thing2();
    Thing4[] b = <font color=#0000ff>new</font> Thing4[SIZE];
    <font color=#0000ff>for</font>(<font color=#0000ff>int</font> i = 0; i &lt; b.length; i++)
      b[i] = <font color=#0000ff>new</font> Thing4();
    <font color=#0000ff>long</font> t1 = System.currentTimeMillis();
    ByteArrayOutputStream buf = 
      <font color=#0000ff>new</font> ByteArrayOutputStream();
    ObjectOutputStream o =
      <font color=#0000ff>new</font> ObjectOutputStream(buf);
    <font color=#0000ff>for</font>(<font color=#0000ff>int</font> i = 0; i &lt; a.length; i++)
      o.writeObject(a[i]);
    <font color=#009900>// ������ �������� �����:</font>
    ObjectInputStream in =
      <font color=#0000ff>new</font> ObjectInputStream(
        <font color=#0000ff>new</font> ByteArrayInputStream(
          buf.toByteArray()));
    Thing2[] c = <font color=#0000ff>new</font> Thing2[SIZE];
    <font color=#0000ff>for</font>(<font color=#0000ff>int</font> i = 0; i &lt; c.length; i++)
      c[i] = (Thing2)in.readObject();
    <font color=#0000ff>long</font> t2 = System.currentTimeMillis();
    System.out.println(
      <font color=#004488>"������������ � ����������� ����������: "</font> +
      (t2 - t1) + <font color=#004488>" �����������"</font>);
    <font color=#009900>// ������ ��������� ������������ ������������:</font>
    t1 = System.currentTimeMillis();
    Thing4[] d = <font color=#0000ff>new</font> Thing4[SIZE];
    <font color=#0000ff>for</font>(<font color=#0000ff>int</font> i = 0; i &lt; d.length; i++)
      d[i] = (Thing4)b[i].clone();
    t2 = System.currentTimeMillis();
    System.out.println(
      <font color=#004488>"������������ ����� ������������: "</font> +
      (t2 - t1) + <font color=#004488>" �����������"</font>);
  }
} <font color=#009900>///:~</font></font></pre>
</blockquote>
<p class="pad"><b>Thing2</b> � <b>Thing4</b> �������� �������, ���������� ��������� 
�����������. ��������� �������� ��� ���� �������� ������ ����� ��� ��������, �� 
������� ������ ��� ������������. ������������, ��������, ������� ������ ��� 
�������� ������, �� �������� ������������ ������������ ������. ���������� ������ 
������� ������� ���� �� ����. ��� ���������� ���� ��������� �������� 
�������:</p>
<pre><font size=2>������������ � ����������� ����������: 940 Milliseconds
������������ ����� ������������: 50 Milliseconds

������������ � ����������� ����������: 710 Milliseconds
������������ ����� ������������: 60 Milliseconds

������������ � ����������� ����������: 770 Milliseconds
������������ ����� ������������: 50 Milliseconds</font></pre>
<p class="pad">������ ������������ ������� � �������� �������, �� ������ ��������� ��� 
�������� ���������� ����� ��������� ��� �������� ������������.</p>
<h4><a name="Heading613"></a>����������� ������������� ��������-�����������</h4>
<p class="pad">����� ��������� ����� �����, ��� �� ��������� ���������� �������� �������� 
������ <b>Object</b>, ������� �� ��������� �������� �� ����������� (�� ���� 
������ ���� � ��������� �������), � �������� ������� �� ��� ���, ���� �� �� 
�������� �����. ������, ����� ���� ��� �� �������� ����������� ������������ � 
�����-���� �����, ��� ����� �������� ���� ����������� �� �������� �������:</p>
<pre><font color=#009900>//: ���������� �:HorrorFlick.java</font>
<font color=#009900>// �� ������ �������� ������������� � </font>
<font color=#009900>// ����� ������� �������� ������������ ��������.</font>
<font color=#0000ff>import</font> java.util.*;

<font color=#0000ff>class</font> Person {}
<font color=#0000ff>class</font> Hero <font color=#0000ff>extends</font> Person {}
<font color=#0000ff>class</font> Scientist <font color=#0000ff>extends</font> Person 
    <font color=#0000ff>implements</font> Cloneable {
  <font color=#0000ff>public</font> Object clone() {
    <font color=#0000ff>try</font> {
      <font color=#0000ff>return</font> <font color=#0000ff>super</font>.clone();
    } <font color=#0000ff>catch</font>(CloneNotSupportedException e) {
      <font color=#009900>// ����� �� ������ ���������:</font>
      <font color=#009900>// �� ��� �����������!</font>
      <font color=#0000ff>throw</font> <font color=#0000ff>new</font> InternalError();
    }
  }
}
<font color=#0000ff>class</font> MadScientist <font color=#0000ff>extends</font> Scientist {}

<font color=#0000ff>public</font> <font color=#0000ff>class</font> HorrorFlick {
  <font color=#0000ff>public</font> <font color=#0000ff>static</font> <font color=#0000ff>void</font> main(String[] args) {
    Person p = <font color=#0000ff>new</font> Person();
    Hero h = <font color=#0000ff>new</font> Hero();
    Scientist s = <font color=#0000ff>new</font> Scientist();
    MadScientist m = <font color=#0000ff>new</font> MadScientist();

    <font color=#009900>// p = (Person)p.clone(); // ������ ����������</font>
    <font color=#009900>// h = (Hero)h.clone(); // ������ ����������</font>
    s = (Scientist)s.clone();
    m = (MadScientist)m.clone();
  }
} <font color=#009900>///:~</font></pre>
<p class="pad">����� ��� ��� �������� �������������, ���������� ��������� ��� ��� ������� 
����������� �������� (things). 
����� ������������� ����� ��������� � Scientist, Scientist � ��� ��� ���������� 
������ ������������.&nbsp;</p>
<h4><a name="Heading614"></a>������ ������������ ����� �������� �����������?</h4>
<p class="pad">�������� ����� ������� ���������� ��� �������� � �� ���������� �������� 
������ � ��� �������� �������������. ��� �� ����� �� ����� �����������?</p>
<p class="pad">������������� Java �������������� ��� ���� ��� ���������� ������������ � �� 
��� ������������ ��� ������������� � Internet. ������������ �������� �������� 
������������ �������� ����� ������. ������� � ������� ����� <b>Object</b> ��� 
������� ����� <b>clone()</b>, <i>��</i> �� ��� ������ ��� <b>public</b> � ����� 
������� �������������� ����������� ������������ ����� ��������. �� ��� ����� ��� 
�������� �������� ����������� ���������.</p>
<p class="pad">�� �����, ����� Java ����������� � ����, ������� ����������� � Internet, ��� 
����������. ��������� ������������� �������� ������� � ������������� ������� � 
�������������. ���� ������� ����� ��� ������� ������������ �������� 
�������������? ������� � ���������� ������� ����� ���� ������� ��������� � ����� 
<b>clone()</b> ������ <b>Object</b> ���� ���������� (<b>protected</b>) � ������ 
��� ���������� ������������ ��� ���������� �������������� ���, ������������� 
��������� <b>Cloneable</b> � ����� ���� � ���������� �������������� ���������. 
������� ��������, ��� ��������� <b>Cloneable</b> ����������� <i>������</i> � ��� 
������, ���� �� ����������� �������� ����� <b>clone()</b> ������ <b>Object</b>, 
������ �������� ���������� � ��������, �������� �� ��������� ��� ����� 
�����������. ��, �� ��������� ������������, �� ������ ������ ������� ����������� 
���� ��������� (��� �����, ���� ������ ��� �� ������).</p>
<h3><a name="Heading615"></a>���������� �������������� ��������</h3>
<p class="pad">� ��� �������� ��������� ����������� ��� ��� ���������� ������������� 
���������� ���������� ����� clone() ��� <b>private</b>, �� ��� �� ���, ��������� 
�������� ������� �������� ������ �� �� ������&nbsp; �������� ��� ������. ��� ��� 
��� �� ����� ������� ������. �, ��� �� �����, ���������� ����� ��������� 
�������������� ����� ��������. ���������� ��� ������� ����������, �������� �� 
������ ����������������� ��� ���������� ����� �������:</p>
<ol>
  
<li>������ �� �������������� � ����� � �������������, ����� ��� ����� �� ����� 
  ���� ����������, �� ��� ������������� � �����-��������� ����� ���� ��������� 
  ����������� ������������. ����� ������� �������� ���� � ��� ������, ���� ����� 
  <b>Object.clone()</b> ��������� � ������������� ���� ����� ������ ������. 
  
<li>��������� ������ <b>clone()</b>. ���������� ��������� <b>Cloneable</b> � 
  �������������� ����� <b>clone()</b>. � ���������������� ������ <b>clone()</b> 
  �� ������ ���������� ����� <b>super.clone()</b> � ���������� ��������� 
  �������������� �������� (����� �������, ���������������� ����� <b>clone()</b> 
  �� ����� ���������� �������������� ��������). 
  
<li>�������� ��������� ������������. ���� ��� ����� �������� ������ �� ������ 
  ������� � �� �� ������ ���� ������� ��� ��� ��� �������� ������������ 
  (��������, ����������), ��� ����� <b>clone()</b> ����� ����������� ������� 
  ����������� ��� �������, �� ������� ��������� ������, � ���� ��� �������� � 
  ��������� �������������� ��������, �� ������ �������� ��� �������������� 
  �������� �����, ��� ����������� ��������� �������������. � �������� ������� 
  ������� ������ ������ ���� <b>ArrayList</b>, ������� �������� ����������� ��� 
  ���� �������. �������� ����� <b>ArrayList</b>, �� �� ������ ����� ������� 
  ������ ���� ����������� ������� ���������� � ����� <b>ArrayList</b>, � ������ 
  �� ������ ����� ��� ������������ ��� ���. 
  
<li>����� <b>clone()</b> ���������������� ��� ���������� (<b>protected</b>) �� 
  ��������� <b>Cloneable</b> �� �����������. ����� ������� �������������� 
  ���������� ����������� ���� ����� ������. �� ������ ������� ��� ��� 
  ����������� ����������� ����������� ��� ����� ������ �������� 
  <b>super.clone()</b>, �������� �� �� ��� ���� ����� ������� ������ �� �������, 
  ������������ ��������� <b>Cloneable</b> (������� ����� ����� �������� � 
  ������������� �������������� ��������), ��������� ����� ��� 
  ��������-����������� ������ ������ ����� ����� ����� ����������.&nbsp;����� 
  ����� �������� ������ ��� �������-�����������, ������� ����� ����������� 
  ��������� <b>Cloneable</b>. 
  
<li>������� ������������� ������������ �� ���������� ��������� 
  <b>Cloneable</b> � ������������� ����� <b>clone()</b> ��� ��������� 
  �������������� ��������. ���� ����� �������� ���� ��� ������� ��� ��� 
  ������-���������� ��� ��������������� ������ <b>clone()</b> �������� 
  <b>super.clone()</b>. � ��������� ������ ���� ���������� ����� ����� ������. 
  
<li>������ �� ������������ ����� �������� ������ ��� ������������ 
  (<b>final</b>). ����� ������ ����� �������� ���� � ��� ������, ���� ����� 
  <b>clone()</b> �� ��� ������������� � �����-���� ��� ������������ ������. � 
  �������� ������ ����������� ����� �������������� ��� � ������������� 
  �������������� �������� <b>CloneNotSupportException</b>. ������� ���� ����� 
  ����������� (<b>final</b>) - ������������ ��������������� ������ �� 
  ������������. ����� ����, ��� ������ � ����������� ��������� ��� � ������ 
  ���������, ����� ��������� �������� �� ������ ����������� ��������, ���������� 
  ���������� ��� ������������ ��� <b>private</b> � ������� ���� ��� ��������� 
  ����������� �������, ������������ ��� �������� ��������. ����� �������, ��� 
  ������ ����� ���������� ����� ����������� � �� ������� �������� � 
  �������������� �������, � ������� ��� ���������. (����� �� �������� ����� 
  ������� ����� ������� <i>singleton</i>,&nbsp; ������������� � ��������� 
  <i>����������� ��� ��������� �� Java (Thinking in Patterns with Java)</i>, 
  ��������� �� ������ <a 
  href="http://www.bruceeckel.com/">http://www.bruceeckel.com/</a>). </li>
</ol>
<p class="pad">���� �������� ������, ��������������� ��������� ������� ��� ������� 
������������ ����� ���� ����������� ��� "���������" � ��������-�����������:</p>
<pre><font size=2><font color=#009900>//: ���������� �:CheckCloneable.java</font>
<font color=#009900>// ��������, ����� �� ������ �������������.</font>

<font color=#009900>// �� ����� �������������, ��������� �� ������������ </font>
<font color=#009900>// ����� clone():</font>
<font color=#0000ff>class</font> Ordinary {}

<font color=#009900>// ���������������� clone, �� �� �����������</font>
<font color=#009900>// ��������� Cloneable:</font>
<font color=#0000ff>class</font> WrongClone <font color=#0000ff>extends</font> Ordinary {
  <font color=#0000ff>public</font> Object clone()
      <font color=#0000ff>throws</font> CloneNotSupportedException {
    <font color=#0000ff>return</font> <font color=#0000ff>super</font>.clone(); <font color=#009900>// ���������� �������������� ��������</font>
  }
}

<font color=#009900>// ��������� ��� ����������� ��� ������������ �������:</font>
<font color=#0000ff>class</font> IsCloneable <font color=#0000ff>extends</font> Ordinary 
    <font color=#0000ff>implements</font> Cloneable {
  <font color=#0000ff>public</font> Object clone() 
      <font color=#0000ff>throws</font> CloneNotSupportedException {
    <font color=#0000ff>return</font> <font color=#0000ff>super</font>.clone();
  }
}

<font color=#009900>// ������������ ��������� � ���������� ��������������� �������:</font>
<font color=#0000ff>class</font> NoMore <font color=#0000ff>extends</font> IsCloneable {
  <font color=#0000ff>public</font> Object clone() 
      <font color=#0000ff>throws</font> CloneNotSupportedException {
    <font color=#0000ff>throw</font> <font color=#0000ff>new</font> CloneNotSupportedException();
  }
}

<font color=#0000ff>class</font> TryMore <font color=#0000ff>extends</font> NoMore {
  <font color=#0000ff>public</font> Object clone() 
      <font color=#0000ff>throws</font> CloneNotSupportedException {
    <font color=#009900>// ����� NoMore.clone(), ��� �������� � ��������� ��������������� �������:</font>
    <font color=#0000ff>return</font> <font color=#0000ff>super</font>.clone();
  }
}

<font color=#0000ff>class</font> BackOn <font color=#0000ff>extends</font> NoMore {
  <font color=#0000ff>private</font> BackOn duplicate(BackOn b) {
    <font color=#009900>// ��������� � ������������ ����� b.</font>
    <font color=#009900>// ��� ���������� �����������, �������������� ���� � �������� �������:</font>
    <font color=#0000ff>return</font> <font color=#0000ff>new</font> BackOn();
  }
  <font color=#0000ff>public</font> Object clone() {
    <font color=#009900>// ����� NoMore.clone() �� ����������:</font>
    <font color=#0000ff>return</font> duplicate(<font color=#0000ff>this</font>);
  }
}

<font color=#009900>// �� ������� �����������, � ������ � ��������������</font>
<font color=#009900>// ����� clone ��� ��� ���� ������� � BackOn:</font>
<font color=#0000ff>final</font> <font color=#0000ff>class</font> ReallyNoMore <font color=#0000ff>extends</font> NoMore {}

<font color=#0000ff>public</font> <font color=#0000ff>class</font> CheckCloneable {
  <font color=#0000ff>static</font> Ordinary tryToClone(Ordinary ord) {
    String id = ord.getClass().getName();
    Ordinary x = <font color=#0000ff>null</font>;
    <font color=#0000ff>if</font>(ord <font color=#0000ff>instanceof</font> Cloneable) {
      <font color=#0000ff>try</font> {
        System.out.println(<font color=#004488>"������� ������������ "</font> + id);
        x = (Ordinary)((IsCloneable)ord).clone();
        System.out.println(<font color=#004488>"���������� "</font> + id);
      } <font color=#0000ff>catch</font>(CloneNotSupportedException e) {
        System.err.println(<font color=#004488>"�� ������� ����������� "</font>+id);
      }
    }
    <font color=#0000ff>return</font> x;
  }
  <font color=#0000ff>public</font> <font color=#0000ff>static</font> <font color=#0000ff>void</font> main(String[] args) {
    <font color=#009900>// ������� �����:</font>
    Ordinary[] ord = { 
      <font color=#0000ff>new</font> IsCloneable(),
      <font color=#0000ff>new</font> WrongClone(),
      <font color=#0000ff>new</font> NoMore(),
      <font color=#0000ff>new</font> TryMore(),
      <font color=#0000ff>new</font> BackOn(),
      <font color=#0000ff>new</font> ReallyNoMore(),
    };
    Ordinary x = <font color=#0000ff>new</font> Ordinary();
    <font color=#009900>// ��� �� ������� ���������������, ���� clone()</font>
    <font color=#009900>// ������ ��� protected � ������ Object:</font>
    <font color=#009900>//! x = (Ordinary)x.clone();</font>
    <font color=#009900>// tryToClone() ������� ������������ �������� �����</font>
    <font color=#009900>// ����������, ��������� �� ������ ����� ��������� Cloneable:</font>
    <font color=#0000ff>for</font>(<font color=#0000ff>int</font> i = 0; i &lt; ord.length; i++)
      tryToClone(ord[i]);
  }
} <font color=#009900>///:~</font></font></pre>
<p class="pad">������ �����, <b>Ordinary</b>, ��������� � ������ �������, ������������ � 
���� �����: �� �� ������������ ������������, �� ��� ���� �� ����� ���������� �� 
����������. ������, ���� �� ������ ���� � ������� �� <b>Ordinary</b> ������, 
������� ������� � ���������� �������, �� �� ������ ���� ������� � ���, ������ �� 
�� ���� ���������� ��� ���.</p>
<p class="pad">����� <b>WrongClone</b> ������������ ������������ ���������� ������������ 
������������. � ��� ����� <b>Object.clone()</b> ���������������� ��� 
<b>public</b>, �� �� ���������� ��������� <b>Cloneable</b>, ������� ����� 
<b>super.clone()</b> (� ���������� �������� ���������� <b>Object.clone()</b>) 
�������� � ������������� �������������� �������� 
<b>CloneNotSupportedException</b> � ������������ �� �����������.</p>
<p class="pad">� ������ <b>IsCloneable</b> ������������ ����������� ���������: ����� 
<b>clone()</b> ���������������� � ����������� ��������� <b>Cloneable</b>. 
������, ����� clone(), � ����� ��������� ������ ������ � ���� ������� <i>�� 
�������������</i> �������������� �������� <b>CloneNotSupportException</b>, � 
���� ���������� �� ���������� ������, ��� ������ ���� ������������� ��������� � 
����� ���������� <b>try</b>-<b>catch</b>. ��� ������ ����� �������� ������������ 
��� �������� <i>������</i> ������ ������ <b>clone()</b> ������� ���� ��� ������ 
���������� ��, �� � �������� ������� ������� ������������� ���� ������������ 
���� ���������.</p>
<p class="pad">� ������ <b>NoMore</b> ����������� ������� ���������� ������������ ��������, 
������������� �������������� Java: � ������ <b>clone()</b> ������-���������� 
������������ �������������� �������� <b>CloneNotSupportedException</b>. � ������ 
<b>clone()</b> ������ <b>TryMore</b> ��� � �������� ���������� ����� 
<b>super.clone()</b>, ������� ����� ������� �������� � ������ ������ 
<b>NoMore.clone()</b>, ������� ���������� �������������� �������� � 
������������� ������������.</p>
<p class="pad">�� ��� ���� ����������� �� ������ ��������� "����������" ����� ������ ������ 
<b>super.clone()</b> � ���������������� ������ <b>clone()</b>? �� ������� ������ 
<b>BackOn</b> �� ������ ��������� ������ ����� ��������. ���� ����� ���������� 
����������� ����� <b>duplicate()</b> ��� ����������� �������� ������� � � 
<b>clone()</b> �������� ���� ����� <i>������</i> ������ <b>super.clone()</b>. 
��� ���� �������������� �������� �� ������������ � ����� ����� ���� ����������. 
��� ������ ����, ��� ������ ������������ �� ��������� �������������� �������� 
��� �� ������ ������ �� ������������. ������������ ������ ������ ��� �����, 
������� �� ������� ������ <b>ReallyNoMore</b>&nbsp;��� ����� ������ ��� 
����������� (<b>final</b>), �� ���� ��� �����, ������� �� ����� ���� ����������. 
��� �������� ��� ���� ����� <b>clone()</b> ���������� �������������� �������� � 
<b>final</b> ������, �� �� �� �������� ������ ��� ������ ������������, ��� 
������������ ��������������� ������ �� ������������ (�� �� ������ ���� ������� 
<b>Object.clone() </b>�� ������ � ������������ ������� ������������; ����� 
������� ���� ����� <b>super.clone()</b>, ����� ������� ����� ����������� 
��������� � ������ �������� ������). ����� �������, ������������ ������� � 
������� ������� ������, ����� ������ ����� ��������� ��� <b>final</b>.</p>
<p class="pad">������ ����� ������ <b>CheckCloneability</b> - <b>tryToClone()</b>, ����� 
������������ <b>Ordinary</b> ������ � ���������, �������� �� �� ����������� � 
������� <b>instanceof</b>. ���� ��, �� ��������� ��� ������� �� 
<b>IsCloneable</b> � �������� ��� ���� ����� <b>clone()</b>, ����� ���� ��� 
����������� ��������� �������� ������� � <b>Ordinary</b>, ������������ ��� 
����������� � ���� �������� �������������� ��������. �������� �������� �� 
����������� ���� ������� � �������� ����������&nbsp; ������ (��. ����� 12) 
������������ ��� ������ �� ����� ����� ������ ��� ������������� �������.</p>
<p class="pad">� ������ <b>main()</b>, ��������� ��������� ���� <b>Ordinary</b> �������� � 
�������� ���� �� <b>Ordinary</b> ��� ����������� �������. ��������� �� ���� ��� 
������ ���� ������� ������� <b>Ordinary</b> ������ � �������� ����������� ���. 
������ ���� ��� �� ������� ���������������, ��������� � ������ <b>Object</b> 
����� <b>clone()</b> ��������� ��� ���������� (<b>protected</b>). ��������� ��� 
��������� �� ����� ������� � �������� ����������� ������ �� ��� ��������, 
���������� ��� ���� �� ���������� ���� ��������. �� �������� ��������� 
����������:</p>
<blockquote>
<pre><font size=2>������� ������������ IsCloneable
���������� IsCloneable
������� ������������ NoMore
�� ������� ����������� NoMore
������� ������������ TryMore
�� ������� ����������� TryMore
������� ������������ BackOn
���������� BackOn
������� ������������ ReallyNoMore
�� ������� ����������� ReallyNoMore</font></pre>
</blockquote>
<p>� ����������, ������������ ����������, ������������� � ����������� 
�������:</p>
<p>1. ���������� ���������� Cloneable.</p>
<p>2. ��������������� ������ clone()</p>
<p>3. ����� ������ super.clone() �� ����������������� ������ clone()</p>
<p>4. ��������� �������������� �������� � ������ clone()</p>
<h4><a name="Heading616"></a>������������ �����������</h4>
<div align=left>
<p class="pad">�������� ������������ ���������� ��� ������� ��������� � ��� ������� ����� 
��� ����� ������� ������������. ����� �������� (�������� ���� �� �������� ��++) 
�������� �������� ������������ ������������, ������� �������� ����� �������� 
��������� �������. � ��++ ����� ������������ ���������� <i>�������������� 
�����������</i>. �� ������ ������ ��� ����� ���������� ��������� ������� �� 
���������, �� ��������� �� �� �������� ��� �� �������. ���������� 
������:</p>
</div>
<blockquote>
<pre><font size=2><font color=#009900>//: ���������� �:CopyConstructor.java</font>
<font color=#009900>// ����������� ��� ����������� �������� ���������� �����
// ��� ������ �������� ��������� �����.</font>

<font color=#0000ff>class</font> FruitQualities {
  <font color=#0000ff>private</font> <font color=#0000ff>int</font> weight;
  <font color=#0000ff>private</font> <font color=#0000ff>int</font> color;
  <font color=#0000ff>private</font> <font color=#0000ff>int</font> firmness;
  <font color=#0000ff>private</font> <font color=#0000ff>int</font> ripeness;
  <font color=#0000ff>private</font> <font color=#0000ff>int</font> smell;
  <font color=#009900>// � �.�.</font>
  FruitQualities() { <font color=#009900>// ����������� �� ���������</font>
    <font color=#009900>// ��� ���������� �����-���� ����������� ��������...</font>
  }
  <font color=#009900>// ������ ������������:</font>
  <font color=#009900>// ...</font>
  <font color=#009900>// ����������� �����������:</font>
  FruitQualities(FruitQualities f) {
    weight = f.weight;
    color = f.color;
    firmness = f.firmness;
    ripeness = f.ripeness;
    smell = f.smell;
    <font color=#009900>// � �.�.</font>
  }
}

<font color=#0000ff>class</font> Seed {
  <font color=#009900>// ����...</font>
  Seed() { <font color=#009900>/* ����������� �� ��������� */</font> }
  Seed(Seed s) { <font color=#009900>/* ����������� ����������� */</font> }
}

<font color=#0000ff>class</font> Fruit {
  <font color=#0000ff>private</font> FruitQualities fq;
  <font color=#0000ff>private</font> <font color=#0000ff>int</font> seeds;
  <font color=#0000ff>private</font> Seed[] s;
  Fruit(FruitQualities q, <font color=#0000ff>int</font> seedCount) { 
    fq = q;
    seeds = seedCount;
    s = <font color=#0000ff>new</font> Seed[seeds];
    <font color=#0000ff>for</font>(<font color=#0000ff>int</font> i = 0; i &lt; seeds; i++)
      s[i] = <font color=#0000ff>new</font> Seed();
  }
  <font color=#009900>// ������ ������������:</font>
  <font color=#009900>// ...</font>
  <font color=#009900>// ����������� �����������:</font>
  Fruit(Fruit f) {
    fq = <font color=#0000ff>new</font> FruitQualities(f.fq);
    seeds = f.seeds;
    <font color=#009900>// ������� ����� ���� ������������� �����������:</font>
    <font color=#0000ff>for</font>(<font color=#0000ff>int</font> i = 0; i &lt; seeds; i++)
      s[i] = <font color=#0000ff>new</font> Seed(f.s[i]);
    <font color=#009900>// �������� ������ ������������� �����������...</font>
  }
  <font color=#009900>// ��� ����������� ���������� ���������� ������������� (��� ������ </font>
  <font color=#009900>// �������) � ��������� ���������:</font>
  <font color=#0000ff>protected</font> <font color=#0000ff>void</font> addQualities(FruitQualities q) {
    fq = q;
  }
  <font color=#0000ff>protected</font> FruitQualities getQualities() {
    <font color=#0000ff>return</font> fq;
  }
}

<font color=#0000ff>class</font> Tomato <font color=#0000ff>extends</font> Fruit {
  Tomato() {
    <font color=#0000ff>super</font>(<font color=#0000ff>new</font> FruitQualities(), 100);
  }
  Tomato(Tomato t) { <font color=#009900>// ����������� �����������</font>
    <font color=#0000ff>super</font>(t); <font color=#009900>// ������� ��� �������� ������������ �����������</font>
    <font color=#009900>// ������ �������� ������������ �����������...</font>
  }
}

<font color=#0000ff>class</font> ZebraQualities <font color=#0000ff>extends</font> FruitQualities {
  <font color=#0000ff>private</font> <font color=#0000ff>int</font> stripedness;
  ZebraQualities() { <font color=#009900>// ����������� �� ���������</font>
    <font color=#009900>//  ��� ���������� �����-���� ����������� ��������...
</font>  }
  ZebraQualities(ZebraQualities z) {
    <font color=#0000ff>super</font>(z);
    stripedness = z.stripedness;
  }
}

<font color=#0000ff>class</font> GreenZebra <font color=#0000ff>extends</font> Tomato {
  GreenZebra() {
    addQualities(<font color=#0000ff>new</font> ZebraQualities());
  }
  GreenZebra(GreenZebra g) {
    <font color=#0000ff>super</font>(g); <font color=#009900>// ����� Tomato(Tomato)</font>
    <font color=#009900>// �������������� ������ �������:</font>
    addQualities(<font color=#0000ff>new</font> ZebraQualities());
  }
  <font color=#0000ff>void</font> evaluate() {
    ZebraQualities zq = 
      (ZebraQualities)getQualities();
    <font color=#009900>// �����-������ �������� � ����������</font>
    <font color=#009900>// ...</font>
  }
}

<font color=#0000ff>public</font> <font color=#0000ff>class</font> CopyConstructor {
  <font color=#0000ff>public</font> <font color=#0000ff>static</font> <font color=#0000ff>void</font> ripen(Tomato t) {
    <font color=#009900>// ������������� "������������ �����������":</font>
    t = <font color=#0000ff>new</font> Tomato(t); 
    System.out.println(<font color=#004488>"� ������ t ��� "</font> +
      t.getClass().getName());
  }
  <font color=#0000ff>public</font> <font color=#0000ff>static</font> <font color=#0000ff>void</font> slice(Fruit f) {
    f = <font color=#0000ff>new</font> Fruit(f); <font color=#009900>// ���... ����� �� ��� ��������?</font>
    System.out.println(<font color=#004488>"� ��������� ��������� f ��� "</font> +
      f.getClass().getName());
  }
  <font color=#0000ff>public</font> <font color=#0000ff>static</font> <font color=#0000ff>void</font> main(String[] args) {
    Tomato tomato = <font color=#0000ff>new</font> Tomato();
    ripen(tomato); <font color=#009900>// OK</font>
    slice(tomato); <font color=#009900>// ��!</font>
    GreenZebra g = <font color=#0000ff>new</font> GreenZebra();
    ripen(g); <font color=#009900>// ��!</font>
    slice(g); <font color=#009900>// ��!</font>
    g.evaluate();
  }
} <font color=#009900>///:~</font></font></pre>
</blockquote>
<p class="pad">������� ��� ������� ������� ��������. �������, ����� �������� ����������, �� 
������ �� ������ �� ��������� �������� ������, �������������� ��� �������� 
��������������� � ������ <b>Fruit</b>? �� �� ���� ��� �������. ������ 
����������� � ���, ��� ��� ��������� ����� ����������� � ��������� ��������� �� 
�������� ��� ��������. �������� �������� ��� � ������ <b>Fruit</b> ���� 
���������� (<b>protected</b>) ����� <b>addQualities()</b>, ����������� 
�������-����������� ����������� �������� ��������. (�������� ��� ��������� ��� 
���� �� �������� ������� ��� ������ <b>Fruit</b> ���������� (<b>protected</b>) 
�����������, �������� ����������� �� �������� <b>FruitQualities</b>, �� 
������������ �� �����������, ������� �� �� ����� �������� ��� 
�������-����������� ������� � ���� �������.) �������� �������� ������� � 
��������� ������ �� ������������� ������� ��������, ������� ����������� �������� 
�������� �� ���� ������������� ������� ���������� ������� <b>Fruit</b>.</p>
<p class="pad">������ ������� ���������� <b>FruitQualities</b> � ��������� �������� 
����������� � ���������� ��� ��������� �� ��� ������ ���������� ������������ � 
������������. �������� ��� ��� ������� <b>GreenZebra</b> (������� �����), 
������� <i>�� ����� ����</i> ���������� �� ���� <b>Tomato</b>. ����������� 
�������� ����� <b>addQualities()</b> � �������� �� <b>ZebraQualities</b> 
�������, ������� ����������� �� <b>FruitQualities</b> � ������� �� ����� ���� 
��������� � ������ �� <b>FruitQualities</b> � ������� ������. ����������, ����� 
<b>GreenZebra</b> ���������� <b>FruitQualities</b>, �� ������ �������� ��� � 
������� ���� (��� �������� � <b>evalute()</b>), �� ��� ���� ������ ����� ��� 
�������� � ������� <b>ZebraQualities</b>.</p>
<p class="pad">��� �� ������, ���� ��� ����� <b>Seed</b> (����) � ����� <b>Fruit</b> 
(������� �� ����������� �������� ���� ����������� ������)[<a 
href="file:///C:/out/AppendixA1.htm#[82]">82</a>], �������� ������ �� �������� 
<b>Seeds</b>.</p>
<p class="pad">�, �������, �������� �������� �� �� ��� ��� ����������� ��������� ����������� 
��� ������ ����� ������������ �����������, � ������ ����������� ����������� 
������ ������������ � ���, ����� ������� ������������ ����������� ��� �������� 
������ � ��������-������. ����������� ����������� ����������� ������ ������ 
<b>CopyConstructor</b>. ����� <b>ripen()</b> �������� � �������� ��������� 
<b>Tomato</b> � ������������ �������� ��� �����.</p>
<p>t = <font color=#0000ff>new</font> Tomato(t);</p>
<p>��� �������� <b>slice()</b> �������� ������ <b>Fruit</b> � ����� ��������� 
���:</p>
<p>f = <font color=#0000ff>new</font> Fruit(f);</p>
<p>����� ������� � <b>main()</b> ����������� ��������� ���������� <b>Fruit</b>. 
��� ����������:</p>
<pre><font size=2>� ������ t ��� Tomato
� ��������� ��������� f ��� Fruit
� ������ t ��� Tomato
� ��������� ��������� f ��� Fruit
</font></pre>
<p class="pad">��� ��� ���������� ��������. ����� 
���� ��� ��������� ����� <b>Tomato</b> � <b>slice()</b>, � ���������� ���� 
�������� <b>Tomato</b> ��������� ������������, �������� ������ <b>Fruit</b>. �� 
������, ��� �������, ��� ���� "������������". �����, ����� ������ ������� �� 
<b>GreenZebra</b>, <b>ripen()</b> � <b>slice()</b> ����� ��������� ��� ������� � 
<b>Tomato</b>, � ����� � <b>Fruit</b>. �������, ���, �������� ������������� 
����������� �� ��������� ��� Java, ����� ������� ���� � �������� ��������� 
�����.</p>
<h5><a name="Heading617"></a>������ ��� �������� � C++ � �� �������� � Java?</h5>
<p class="pad">������������ ����������� - ��������������� ������� ����� ��++, ��������� � �� 
������� ������������� ��������� ��������� ����� ��������. ������, ��� ���������� 
����������� ���� ������, ��� �� �������� � Java. ������? � Java �� ����� 
�������������� ������ � ��������, ����� ��� � ��++ ������ � ��������� ������ 
����������� ����������� ��������������� � ������ ���������. ��� ��� ���� ����� 
������������ ����������� � ��++: ��� ������� �������� ������� � ������� ����� 
��������� �������� ������ "�� ��������". ���� ����� ��������� �������� � ��++, 
�� �� ������ ������� ��� ����� ����������� �� ����� �������� � Java � ������ 
������������ �� �� �������������.</p>
<h3><a name="Heading618"></a>������ ������ ��� ������</h3>
<p class="pad">� �� ����� ��� ����� <b>clone()</b> ��������� �������� ��������� ����� 
�������, �� ������������ (������ ������) ������� ��������������� �� 
�������������� ������� �����������, �������� ��� ������������� ����������� 
������.&nbsp;����������� �� �������� ���������� ��������� ������������� � ����� 
������������, ��� �� �� ������� � ���, ��� ��� ����� ��������� �����������? ���, 
������ �����, ��� ���� �� <i>������</i> ��������� ����������� ������ ��� 
��������� ������������� (����� �������� ��������� ������������ ��������) �� ��� 
���� ������ �������� ���������� ������ ���������� ����������� ������?</p>
<p class="pad">���� �� ������� - �������� <i>���������� ��������</i>, ����������� � ������ 
������� "������ ��� ������". �� ������ ���������� ����� ����� �������, ��� 
������ ������� ����� �� ����� ���������� �� ��������� ������ �������. � ����� 
������� ������������� ����������� ������ �� �������� � ������������� �����-���� 
�������, ��������� ��� �������� ���� �������� ���������� ������ �� �������, � 
������������ ���������� �� �������� ������� �������. � �������� �������� ������� 
���������� �������� ����� ������� ����������� ���������� Java, ���������� 
"������-������", ��������� ��� ���������� ���� �����. �������� �� ��� ���������� 
��� ���� �� ������ ���������� <b>int</b> � ������- ����������, ����� ��� 
<b>ArrayList</b> (������� �������� ������ ������ �� �������), �� ������ �������� (wrap) ��� <b>int</b> ������ 
����������� ���������� ������ <b>Integer</b>:</p>
<blockquote>
<pre><font size=2><font color=#009900>//: ���������� �:ImmutableInteger.java</font>
<font color=#009900>// ����� Integer �� ����� ���� ������� .</font>
<font color=#0000ff>import</font> java.util.*;

<font color=#0000ff>public</font> <font color=#0000ff>class</font> ImmutableInteger {
  <font color=#0000ff>public</font> <font color=#0000ff>static</font> <font color=#0000ff>void</font> main(String[] args) {
    ArrayList v = <font color=#0000ff>new</font> ArrayList();
    <font color=#0000ff>for</font>(<font color=#0000ff>int</font> i = 0; i &lt; 10; i++) 
      v.add(<font color=#0000ff>new</font> Integer(i));
    <font color=#009900>// �� ��� �� �������� int</font>
    <font color=#009900>// ������ Integer?</font>
  }
} <font color=#009900>///:~</font></font></pre>
</blockquote>
<p class="pad">����� <b>Integer</b> ( ��� � ������ "������-�������" ����������) ��������� 
������������ ����� ������� �������: ������ � ��� ��� �������, ����������� 
�������� ������.</p>
<p class="pad">���� ��� ����� ������, ������� �������� ���� ���������, ������� ����� ���� 
�������, �� ������ ������� ��� ��������������. � ������� ��� ����� ������:</p>
<pre><font size=2><font color=#009900>//: ���������� �:MutableInteger.java</font>
<font color=#009900>// ���������� �����-�����.</font>
<font color=#0000ff>import</font> java.util.*;

<font color=#0000ff>class</font> IntValue { 
  <font color=#0000ff>int</font> n;
  IntValue(<font color=#0000ff>int</font> x) { n = x; }
  <font color=#0000ff>public</font> String toString() { 
    <font color=#0000ff>return</font> Integer.toString(n);
  }
}

<font color=#0000ff>public</font> <font color=#0000ff>class</font> MutableInteger {
  <font color=#0000ff>public</font> <font color=#0000ff>static</font> <font color=#0000ff>void</font> main(String[] args) {
    ArrayList v = <font color=#0000ff>new</font> ArrayList();
    <font color=#0000ff>for</font>(<font color=#0000ff>int</font> i = 0; i &lt; 10; i++) 
      v.add(<font color=#0000ff>new</font> IntValue(i));
    System.out.println(v);
    <font color=#0000ff>for</font>(<font color=#0000ff>int</font> i = 0; i &lt; v.size(); i++)
      ((IntValue)v.get(i)).n++;
    System.out.println(v);
  }
} <font color=#009900>///:~</font></font></pre>
<p>����������: <b>n</b> ������������ ��� ��������� ����.</p>
<p class="pad">����� <b>IntValue</b> ����� ���� ���� �������, ���� ��� ������������� �� 
��������� ����������� ������������� �������� � ���� (����� ��� �� ����� 
�����������) � ���� ��� �� ���� ���������� � ������ �� ������ (����� ��� �� 
����� ����� <b>toString()</b>):</p>
<blockquote>
<pre><font size=2><font color=#0000ff>class</font> IntValue { <font color=#0000ff>int</font> n; }</font></pre>
</blockquote>
<p class="pad">��������� ������� ��������� � ���������� ������� ����� �������� ��������� 
��������, �� ��� ��� ����������� <b>ArrayList</b> � �� <b>IntValue</b>.</p>
<h4><a name="Heading619"></a>�������� ������� ������ ��� ������</h4>
<p>�� ������ ������� ���� ����������� ����� "������ ��� ������". ������:</p>
<blockquote>
<pre><font size=2><font color=#009900>//: ���������� �:Immutable1.java</font>
<font color=#009900>// �� �������������� �������</font>
<font color=#009900>// �������� ����������� �� ����������� ������.</font>

<font color=#0000ff>public</font> <font color=#0000ff>class</font> Immutable1 {
  <font color=#0000ff>private</font> <font color=#0000ff>int</font> data;
  <font color=#0000ff>public</font> Immutable1(<font color=#0000ff>int</font> initVal) {
    data = initVal;
  }
  <font color=#0000ff>public</font> <font color=#0000ff>int</font> read() { <font color=#0000ff>return</font> data; }
  <font color=#0000ff>public</font> <font color=#0000ff>boolean</font> nonzero() { <font color=#0000ff>return</font> data != 0; }
  <font color=#0000ff>public</font> Immutable1 quadruple() {
    <font color=#0000ff>return</font> <font color=#0000ff>new</font> Immutable1(data * 4);
  }
  <font color=#0000ff>static</font> <font color=#0000ff>void</font> f(Immutable1 i1) {
    Immutable1 quad = i1.quadruple();
    System.out.println(<font color=#004488>"i1 = "</font> + i1.read());
    System.out.println(<font color=#004488>"quad = "</font> + quad.read());
  }
  <font color=#0000ff>public</font> <font color=#0000ff>static</font> <font color=#0000ff>void</font> main(String[] args) {
    Immutable1 x = <font color=#0000ff>new</font> Immutable1(47);
    System.out.println(<font color=#004488>"x = "</font> + x.read());
    f(x);
    System.out.println(<font color=#004488>"x = "</font> + x.read());
  }
} <font color=#009900>///:~</font></font></pre>
</blockquote>
<p class="pad">��� ������ ���������� ��� <b>private</b> �, ��� ������, ������� ����������� 
<b>public</b> ������, �������������� ��� ������. �������������, �����, ������� 
�������� �� ������ ��������� � ������, <b>quadruple()</b>, �� ����� ���� ��� 
����� �������� ������� ����� ������ <b>Immutable1</b> �� ������� ��� ���� 
������-��������.</p>
<p class="pad">����� <b>f()</b> ��������� ��������� �������� � �������� <b>Immutable1</b>, � 
��������� �� ����� � ��������� <b>main()</b> ���������� ��������������� � ���, 
��� ��� ����� �� ���������� �� ��������� <b>x</b>. ����� �������, ������ �� 
������ <b>x</b> ����� ���� ����������� ����������� ��� ������-���� �����, 
��������� ���������� ������ ����������� ��� ���� ������ �� ����� 
�������.&nbsp;</p>
<h4><a name="Heading620"></a>���������� ���������� �������</h4>
<div align=left>
<p class="pad">�������� ���������� ������� �� ������ ������ �������� ���������� 
��������.&nbsp; ������, ������ ���, ����� ��� ����������� �������������� ����� 
������ ����� ����, �� ������&nbsp;������� ����������, ��������� � �������������� 
�������� ������ �������, � ����� ����� ������ "������ ������". ��� �����-�� 
�������� ��� �� �������� �����, �� ��� ��������� (�����, ��� ����� 
<b>String</b>) ��������� � ���������� �������.</p>
</div>
<div align=left>
<p class="pad">� ����� ������ ������� ������� ����� �������� ������-����������, ������� 
<i>�����</i> ����������. �����, ���� ��� ��������� ���������� ��������� 
���������, �� ������ ������������� �� ������������� �������������� 
������-����������, � ����� ���������� ���� ����������� ����� �������� � 
���������� �������.</p>
</div>
<div align=left>
<p>������:</p>
</div>
<blockquote>
<pre><font size=2><font color=#009900>//: ���������� �:Immutable2.java</font>
<font color=#009900>// �����-��������� ��� �������� ���������</font>
<font color=#009900>// � ���������� �����.</font>

<font color=#0000ff>class</font> Mutable {
  <font color=#0000ff>private</font> <font color=#0000ff>int</font> data;
  <font color=#0000ff>public</font> Mutable(<font color=#0000ff>int</font> initVal) {
    data = initVal;
  }
  <font color=#0000ff>public</font> Mutable add(<font color=#0000ff>int</font> x) { 
    data += x;
    <font color=#0000ff>return</font> <font color=#0000ff>this</font>;
  }
  <font color=#0000ff>public</font> Mutable multiply(<font color=#0000ff>int</font> x) {
    data *= x;
    <font color=#0000ff>return</font> <font color=#0000ff>this</font>;
  }
  <font color=#0000ff>public</font> Immutable2 makeImmutable2() {
    <font color=#0000ff>return</font> <font color=#0000ff>new</font> Immutable2(data);
  }
}

<font color=#0000ff>public</font> <font color=#0000ff>class</font> Immutable2 {
  <font color=#0000ff>private</font> <font color=#0000ff>int</font> data;
  <font color=#0000ff>public</font> Immutable2(<font color=#0000ff>int</font> initVal) {
    data = initVal;
  }
  <font color=#0000ff>public</font> <font color=#0000ff>int</font> read() { <font color=#0000ff>return</font> data; }
  <font color=#0000ff>public</font> <font color=#0000ff>boolean</font> nonzero() { <font color=#0000ff>return</font> data != 0; }
  <font color=#0000ff>public</font> Immutable2 add(<font color=#0000ff>int</font> x) { 
    <font color=#0000ff>return</font> <font color=#0000ff>new</font> Immutable2(data + x);
  }
  <font color=#0000ff>public</font> Immutable2 multiply(<font color=#0000ff>int</font> x) {
    <font color=#0000ff>return</font> <font color=#0000ff>new</font> Immutable2(data * x);
  }
  <font color=#0000ff>public</font> Mutable makeMutable() {
    <font color=#0000ff>return</font> <font color=#0000ff>new</font> Mutable(data);
  }
  <font color=#0000ff>public</font> <font color=#0000ff>static</font> Immutable2 modify1(Immutable2 y){
    Immutable2 val = y.add(12);
    val = val.multiply(3);
    val = val.add(11);
    val = val.multiply(2);
    <font color=#0000ff>return</font> val;
  }
  <font color=#009900>// ��� �������� � ���� �� ����������:</font>
  <font color=#0000ff>public</font> <font color=#0000ff>static</font> Immutable2 modify2(Immutable2 y){
    Mutable m = y.makeMutable();
    m.add(12).multiply(3).add(11).multiply(2);
    <font color=#0000ff>return</font> m.makeImmutable2();
  }
  <font color=#0000ff>public</font> <font color=#0000ff>static</font> <font color=#0000ff>void</font> main(String[] args) {
    Immutable2 i2 = <font color=#0000ff>new</font> Immutable2(47);
    Immutable2 r1 = modify1(i2);
    Immutable2 r2 = modify2(i2);
    System.out.println(<font color=#004488>"i2 = "</font> + i2.read());
    System.out.println(<font color=#004488>"r1 = "</font> + r1.read());
    System.out.println(<font color=#004488>"r2 = "</font> + r2.read());
  }
} <font color=#009900>///:~</font></font></pre>
</blockquote>
<p class="pad"><b>Immutable2</b> �������� ������, �������, ��� � �����, �������� 
������������ ������� �� ���� �������� ����� �������� � ��� �������, ����� 
��������� ��� �����������. ��� �������� �������������� �������� <b>add()</b> � 
<b>multiply()</b>. �����-��������� <b>Mutable</b> ����� ����� ������ 
<b>add()</b> � <b>multiply()</b>, �� ���&nbsp;��� ������ �� ��� �������� ������ 
�������, � ��� ��� ���������. ����� ����, � ������ <b>Mutable</b> ���� ����� ��� 
�������� <b>Immutable2</b> ������� � �������������� ������ � ��������.&nbsp;</p>
<p class="pad">��� ����������� ������ <b>modify1()</b> � <b>modify2()</b> ������������� ��� 
��������� ������ ������� ����� � ��� �� ������. � ������ <b>modify1()</b> ��� 
�������� ����������� ������ ������ <b>Immutable2</b> � � �������� ������ 
��������� ������ ����� <b>Immutable2</b> �������. (� ������ ��� ��� 
���������������&nbsp;<b>val</b> ���������� ������ ���������� �������).</p>
<p class="pad">� ������ <b>modify2()</b> ������ ��������� �������� <b>Immutable2 y</b> � 
�������� <b>Mutable</b> �������. (��� ���������� ����� ������ <b>clone()</b>, 
������������� ���� �����, �� � �� �� ����� ��� ���� ��������� ������ ������ 
����). ����� ������ <b>Mutable</b> ������������ ��� �������������� �������� 
<i>�� ���������</i> �������� ����� ��������. � ����� ���������� ���������� � 
<b>Immutable2</b>. ����, ������ ������� ����� �������� ��������� ������ ��� 
(<b>Mutable</b> � ��������� <b>Immutable2</b>).</p>
<p>����� ����� ����� ����� ������������ � �������, �����:</p>
<ul>
  
<li>��� ����� ������������ ���������� ������� �&nbsp; 
  
<li>��� ���������� �� ����� �������� ��� 
  
<li>������� �������� ��������� ����� ���������� �������. </li>
</ul>
<h4><a name="Heading621"></a>Immutable ������</h4>
<div align=left>
<p>������������ �� ��������� �����:&nbsp;</p>
</div>
<blockquote>
<pre><font size=2><font color=#009900>//: ���������� �:Stringer.java</font>

<font color=#0000ff>public</font> <font color=#0000ff>class</font> Stringer {
  <font color=#0000ff>static</font> String upcase(String s) {
    <font color=#0000ff>return</font> s.toUpperCase();
  }
  <font color=#0000ff>public</font> <font color=#0000ff>static</font> <font color=#0000ff>void</font> main(String[] args) {
    String q = <font color=#0000ff>new</font> String(<font color=#004488>"howdy"</font>);
    System.out.println(q); <font color=#009900>// howdy</font>
    String qq = upcase(q);
    System.out.println(qq); <font color=#009900>// HOWDY</font>
    System.out.println(q); <font color=#009900>// howdy</font>
  }
} <font color=#009900>///:~</font></font></pre>
</blockquote>
<p class="pad">����� <b>q</b>&nbsp;���������� � �������� ��������� ������ <b>upcase()</b> �� 
����� ���� ���������� ����� ������ �� <b>q</b>. ������ �� ������� ��������� ��� 
������ ��������� �� ������ ������ ���������. ��� �������� � �������� ���������� 
���������� ������ ���� ������.</p>
<p class="pad">������ ��������� �� ���������� ������ <b>upcase()</b>, ��� �� ������, ������ 
���������� � �������� ��������� ����� ��� <b>s</b> � ���������� ������ �� ����� 
������ ������ <b>upcase()</b>. ����� ������ ������ <b>upcase()</b> ���������, 
��������� ������ ������������. <b>upcase()</b> ���������� ��������� - 
������������ ������ � ������� ���� ��������� �������� �� ���������. ����������, 
�� ����� ���� ������������ ���� ������ �� ���� ���������. �� ��� ������ 
��������� �� ����� ������, � ������-�������� <b>q</b> �������� � �����������. 
����� �� ������� ��� ����������?</p>
<h5><a name="Heading622"></a>������� ���������</h5>
<div align=left>
<p>�������:</p>
</div>
<div align=left>
<p><font size=2>String s = <font color=#004488>"asdf"</font>;<br>
String x = 
Stringer.upcase(s);</font></p>
</div>
<div align=left>
<p class="pad">������������� �� �� ������ ����� <b>uppercase()</b> <i>�������</i> ��������? 
��� ������� ���, ��������� �������� ��� ������������ �������� ��� ����������, 
������������ ������ �� ��������������� ��� �����������. ��� ������ ������ ��� 
��� ��� ��������� ������� ��� ����� �������� ����� �������������.</p>
</div>
<div align=left>
<p class="pad">� ��++ ��� ����� ��������� ������, ��� ����� ����������� �������� ����� 
<b>const</b>, ���� ������������� ������������ ��� ������ (���, ��� ��++, 
��������� ��� ������) �� ����� ���� ������������ ��� ����������� 
�������-���������. �� ��� ������� �� ������������ ��++ �����������, ����� �� �� 
������� ����������� ��������� <b>const</b>. �� ���� ����� ������ � ��� ������ 
������ ��������.&nbsp;</p>
</div>
<h5><a name="Heading623"></a>������������� '+' � StringBuffer</h5>
<p class="pad">������� <b>String</b> ������� ����� ���� ����������� � ����������� 
����������, ������������� ����. ���� �� ������������ � ������������� �� ������ 
<b>String</b> (������� ����������� ����� � ���� ����������), �� ������� ��� ��� 
������ ����� ������, ������� �������� ������ <b>String</b> �� ����� ���� ���� 
������� � ���������� ��������� ����� ������ <b>String </b>���������� ���������. 
��� ���� ������-�������� <b>String</b> �������� ����������. � Java ��� ����� 
������� ��� <b>const</b> � ��++ ��� ����������� ������������ �������� �� ������ 
���������� � ���� �� ������ �� ��� �������� ������������ �� ��������������, ��� 
��� ����������� � <b>String</b>.</p>
<p class="pad">��������� ������ <b>String</b> ����������, �� ������ ����������� ����������� 
������ �� ����. ��������� �� �������� �������� ������ ��� ������, ��� ������� 
��������� ��� �������� � ����� �� ������ �������� � ��������� �������, ������� 
��������� �� ������ � ������� ��������. ��� � �������� ������ ��� ������ 
�������� �������� ����������� ������.</p>
<p class="pad">����� �������������� ��������� ��������� ���� �������, ��� ������� ��� 
���������� ������� ��������� � ������. � ���� ����� ��������� ���������� ����� 
������� ������� � ��� ���������� �����������, ��� ��� ����������� � 
<b>String</b>. ������, � ��������� ������� ��� �� ����������. �������� �������� 
������������� ��������� '+', �������������� ��� �������� <b>String</b>. ������ 
"�������������" �������� ��� ��� ������������� � ������� ������������� ���� 
�������� ��������� ������������� �������. (��������� '+' � '+=' ��� 
<b>String</b> - ������������ ������������� ��������� � Java � � Java ����������� 
�� ����� ����������� ����������� �����-���� ���� ���������) [<a 
href="file:///C:/out/AppendixA1.htm#[83]">83</a>]</p>
<p class="pad">����� '+' ������������ � ��������� <b>String</b>, �� ��������� �������� 
����������� ���� � ����� �������� <b>String</b>:</p>
<p>String s = <font color=#004488>"abc"</font> + foo + <font 
color=#004488>"def"</font> + Integer.toString(47);</p>
<p class="pad">�� ������ ������������ �� ��� ��� <i>�����</i> ��������: � ������� 
<b>String</b> "abc" ���� ����� <b>append()</b>, ������� ������� ������ 
<b>String</b>, ���������� "abc", ������������ � ���������� <b>foo</b>. ����� 
������ <b>String</b> � ���� ������� ������� ����� ������ <b>String</b>, � 
������� ����������� "def" � ��� �����.</p>
<p class="pad">��� ����� �� ��� � �����������, �� ��� ������� �������� ��������� �������� 
<b>String</b> ���� ��� ����������� ���� ����� �������� <b>String</b> � � 
���������� � ��� ���������� �� �������� ���������� ������������� �������� 
<b>String</b>, ��������� ����� ������. ���� ������������ ��� ������������ Java 
������� ��������� ������ ����� ������ (��� ���� ������������� ������������ 
����������� - �� ������ �� ������ � ������� �� ��� ���, ���� ���� �� �������� 
���-���� � �� ��������� ��� ��������) � ���������� ���������� �� ������������� 
�� ����� ��������������.</p>
<p class="pad">�������� �������� ������������� ��������������� ������-����������, �������� 
�������������� ����� ��������. ��� ������� <b>String</b> �������-����������� 
�������� <b>StringBuffer</b>, � ���������� ������������� ������� 
<b>StringBuffer</b> ��� ��������� ��������� ���������, � ��������� ��� 
������������� ���������� '+' � '+=' ������������� � �������� <b>String</b>. ��� 
������ ���� ��� ��� ����������:</p>
<pre><font size=2><font color=#009900>//: ���������� �:ImmutableStrings.java</font>
<font color=#009900>// ������������ StringBuffer.</font>

<font color=#0000ff>public</font> <font color=#0000ff>class</font> ImmutableStrings {
  <font color=#0000ff>public</font> <font color=#0000ff>static</font> <font color=#0000ff>void</font> main(String[] args) {
    String foo = <font color=#004488>"foo"</font>;
    String s = <font color=#004488>"abc"</font> + foo +
      <font color=#004488>"def"</font> + Integer.toString(47);
    System.out.println(s);
    <font color=#009900>// "���������" � �������������� StringBuffer:</font>
    StringBuffer sb = 
      <font color=#0000ff>new</font> StringBuffer(<font color=#004488>"abc"</font>); <font color=#009900>// ������� String!</font>
    sb.append(foo);
    sb.append(<font color=#004488>"def"</font>); <font color=#009900>// ������� String!</font>
    sb.append(Integer.toString(47));
    System.out.println(sb);
  }
} <font color=#009900>///:~</font></font></pre>
<p class="pad">��� �������� ������ <b>String s</b> ���������� ������� ������ ����� 
������������ ����, ������� ���������� <b>sb</b>: ��������� <b>StringBuffer</b> � 
������������ <b>append()</b> ��� ���������� ����� �������� ��������������� � 
������ <b>StringBuffer</b> (��� ����� ��� ������ ��� ��������� ����� �����) ��� 
��� ��� ��� ����� ����������, ������� �������� ��� ������ ��� ��� �������� ����� 
����������� � �������, ����� ��� "<b>abc</b>" ��� "<b>def</b>", ���������� 
���������� �� � ������� <b>String</b>. ������� �� ����� ���� ��������� ������ 
�������� ��� ��� ����� ����������, �������� �� ������������� 
<b>StringBuffer</b>.</p>
<h4><a name="Heading624"></a>������ String � StringBuffer</h4>
<p class="pad">� ���� ������� ����������� ����� ������� ��� ������� <b>String</b> � 
<b>StringBuffer</b> � ��, ����� �������, ������� ������� �� ��������������. 
����� ����������� �� ��� ������, � ������ �������� ������, ������� ��������� � 
����������� ����. ������������� ������� �������� ��������� �������.</p>
<p>������� ����� <b>String</b>:</p>
<table border=1>
  <tbody>
  
<tr valign=top>
    
<th valign=top width=117>
      
<div align=left>
      
<p><b>�����</b><br>
</p>
</div>
</th>
<th valign=top width=126>
      
<div align=left>
      
<p><b>���������, ����������</b><br>
</p>
</div>
</th>
<th valign=top width=133>
      
<div align=left>
      
<p><b>����������</b><br>
</p>
</div>
</th>
</tr>
  
<tr valign=top>
    
<td>
      
<div align=left>
      
<p><b>Constructor</b><br>
</p>
</div>
</td>
<td>
      
<div align=left>
      
<p>�������������: �������� �� ���������, <b>String</b>, 
      <b>StringBuffer</b>, ������� <b>char</b>, ������� 
      <b>byte</b>.<br>
</p>
</div>
</td>
<td>
      
<div align=left>
      
<p>������� ������� 
    <b>String</b>.<br>
</p>
</div>
</td>
</tr>
  
<tr valign=top>
    
<td>
      
<div align=left>
      
<p><b>length(&nbsp;)</b><br>
</p>
</div>
</td>
<td><br>
</td>
<td>
      
<div align=left>
      
<p>���������� �������� � 
      <b>String</b>.<br>
</p>
</div>
</td>
</tr>
  
<tr valign=top>
    
<td>
      
<div align=left>
      
<p><b>charAt()</b><br>
</p>
</div>
</td>
<td>
      
<div align=left>
      
<p><b>int</b> ������<br>
</p>
</div>
</td>
<td>
      
<div align=left>
      
<p>���������� ������ � ��������� �������� ������ 
      <b>String</b>.<br>
</p>
</div>
</td>
</tr>
  
<tr valign=top>
    
<td>
      
<div align=left>
      
<p><b>getChars(&nbsp;), 
      getBytes(&nbsp;)</b><br>
</p>
</div>
</td>
<td>
      
<div align=left>
      
<p>��������� � �������� ������, ������� ����� 
      ����������� � ������ � �������� �������, � ������� ����� ����������� 
      �����������.<br>
</p>
</div>
</td>
<td>
      
<div align=left>
      
<p>�������� <b>char</b> ��� <b>byte</b> � ������� 
      ������.<br>
</p>
</div>
</td>
</tr>
  
<tr valign=top>
    
<td>
      
<div align=left>
      
<p><b>toCharArray(&nbsp;)</b><br>
</p>
</div>
</td>
<td><br>
</td>
<td>
      
<div align=left>
      
<p>������� ������ <b>char[]</b>, �������� ������� �� 
      <b>String</b>.<br>
</p>
</div>
</td>
</tr>
  
<tr valign=top>
    
<td>
      
<div align=left>
      
<p><b>equals(&nbsp;), 
      equals-IgnoreCase(&nbsp;)</b><br>
</p>
</div>
</td>
<td>
      
<div align=left>
      
<p><b>String</b> � ������� ���������� 
      ���������.<br>
</p>
</div>
</td>
<td>
      
<div align=left>
      
<p>�������� �� ��������� ����������� ���� 
      <b>Strings</b>.<br>
</p>
</div>
</td>
</tr>
  
<tr valign=top>
    
<td>
      
<div align=left>
      
<p><b>compareTo(&nbsp;)</b><br>
</p>
</div>
</td>
<td>
      
<div align=left>
      
<p><b>String</b> � ������� ���������� 
      ���������.<br>
</p>
</div>
</td>
<td>
      
<div align=left>
      
<p>��������� �������������, ���� ��� �������������, �� 
      ��������� ����������������� 
      ������������ <b>String</b> � ���������. ��������� � ��������� 
      ������� �� �����!<br>
</p>
</div>
</td>
</tr>
  
<tr valign=top>
    
<td>
      
<div align=left>
      
<p><b>regionMatches(&nbsp;)</b><br>
</p>
</div>
</td>
<td>
      
<div align=left>
      
<p>�������� � ������� <b>String</b>, ������ 
      <b>String</b> � �������� � ����� ��������� ��� ���������. ���������� 
      ��������� "������������ ������� ��������."<br>
</p>
</div>
</td>
<td>
      
<div align=left>
      
<p>��������� <b>boolean</b>, ����������������� � 
      ���������� ����������.<br>
</p>
</div>
</td>
</tr>
  
<tr valign=top>
    
<td>
      
<div align=left>
      
<p><b>startsWith(&nbsp;)</b><br>
</p>
</div>
</td>
<td>
      
<div align=left>
      
<p><b>String</b>, ������� ����� �������� ������� 
      <b>String</b>. ���������� ��������� �������� ��� �������� 
      ��������.<br>
</p>
</div>
</td>
<td>
      
<div align=left>
      
<p>��������� <b>boolean</b> ��������������� � ���, 
      ���������� �� <b>String</b> � ������������ � �������� ��������� 
      ������.<br>
</p>
</div>
</td>
</tr>
  
<tr valign=top>
    
<td>
      
<div align=left>
      
<p><b>endsWith(&nbsp;)</b><br>
</p>
</div>
</td>
<td>
      
<div align=left>
      
<p><b>String</b>, ������� ����� ��������� ������� 
      <b>String</b>.<br>
</p>
</div>
</td>
<td>
      
<div align=left>
      
<p>��������� <b>boolean</b> ��������������� � ���, 
      ����������� �� <b>String</b> ������������ � �������� ��������� 
      �������.</p>
</div>
</td>
</tr>
  
<tr valign=top>
    
<td>
      
<div align=left>
      
<p><b>indexOf(&nbsp;), 
      lastIndexOf(&nbsp;)</b><br>
</p>
</div>
</td>
<td>
      
<div align=left>
      
<p>�������������: <b>char</b>, <b>char</b> � ������ 
      ������, <b>String</b>, <b>String</b> � ������ 
    ������.<br>
</p>
</div>
</td>
<td>
      
<div align=left>
      
<p>���������� -1 ���� �������� �� ������ � ������ 
      <b>String</b>, ����� ������������ ������ ������ ���������� ���������. 
      <b>lastIndexOf(&nbsp;)</b> ������������ ����� ������� � ����� 
      ������.<br>
</p>
</div>
</td>
</tr>
  
<tr valign=top>
    
<td>
      
<div align=left>
      
<p><b>substring(&nbsp;)</b><br>
</p>
</div>
</td>
<td>
      
<div align=left>
      
<p>�������������: ������ ������, ������ ������, � 
      ������ �����.<br>
</p>
</div>
</td>
<td>
      
<div align=left>
      
<p>���������� ����� ������ <b>String</b>, ���������� 
      ��������� ����� ��������.<br>
</p>
</div>
</td>
</tr>
  
<tr valign=top>
    
<td>
      
<div align=left>
      
<p><b>concat(&nbsp;)</b><br>
</p>
</div>
</td>
<td>
      
<div align=left>
      
<p><b>String</b> ��� 
�����������<br>
</p>
</div>
</td>
<td>
      
<div align=left>
      
<p>���������� ����� ������ <b>String</b>, ���������� 
      ������� ������������� ������� <b>String</b> � ������������� ����� �� ���� 
      ������� ���������� � �������� ���������.<br>
</p>
</div>
</td>
</tr>
  
<tr valign=top>
    
<td>
      
<div align=left>
      
<p><b>replace(&nbsp;)</b><br>
</p>
</div>
</td>
<td>
      
<div align=left>
      
<p>������ ������ ������������ ��� ������, ����� ������ 
      ������������ ��� ������.<br>
</p>
</div>
</td>
<td>
      
<div align=left>
      
<p>���������� ����� ������ <b>String</b> � ������������ 
      ����������� ������. ���� ������� ������ �� ������, ������������ ������ 
      <b>String</b>.<br>
</p>
</div>
</td>
</tr>
  
<tr valign=top>
    
<td>
      
<div align=left>
      
<p><b>toLowerCase(&nbsp;) 
      toUpperCase(&nbsp;)</b><br>
</p>
</div>
</td>
<td><br>
</td>
<td>
      
<div align=left>
      
<p>���������� ����� ������ <b>String</b> � ����������� 
      �� ��������������� ������� ���������. ���� ��������� �� ���������, 
      ������������ ������ <b>String</b>.<br>
</p>
</div>
</td>
</tr>
  
<tr valign=top>
    
<td>
      
<div align=left>
      
<p><b>trim(&nbsp;)</b><br>
</p>
</div>
</td>
<td><br>
</td>
<td>
      
<div align=left>
      
<p>���������� ����� ������ <b>String</b> � ����������� 
      � ����� ������ �������� �� ���������. ���� ��������� �� ���������, 
      ������������ ������ <b>String</b>.<br>
</p>
</div>
</td>
</tr>
  
<tr valign=top>
    
<td>
      
<div align=left>
      
<p><b>valueOf(&nbsp;)</b><br>
</p>
</div>
</td>
<td>
      
<div align=left>
      
<p>����������: <b>Object</b>, <b>char[]</b>, 
      <b>char[]</b> � �������� � ���������, <b>boolean</b>, <b>char</b>, 
      <b>int</b>, <b>long</b>, <b>float</b>, 
    <b>double</b>.<br>
</p>
</div>
</td>
<td>
      
<div align=left>
      
<p>���������� <b>String</b>, ���������� ���������� ������������� 
      ���������.<br>
</p>
</div>
</td>
</tr>
  
<tr valign=top>
    
<td>
      
<div align=left>
      
<p><b>intern(&nbsp;)</b><br>
</p>
</div>
</td>
<td><br>
</td>
<td>
      
<div align=left>
      
<p>������� ���� 
      � ������ ���� <b>String</b> � ���������� ������������������� 
      ��������.<br>
</p>
</div>
</td>
</tr>
</tbody>
</table>
<p class="pad">��� �� ������, ��� ������ <b>String</b> ���������� ����� ������ <b>String</b> 
� ��� �������, ����� ���������� ��� ����������. ����� �������� �������� �� �� 
��� ���� ����������� �� ���������, ������������ ������ �� �������� 
<b>String</b>. ��� ��������� ���������� ������ � ��������� �� ������ 
����������.</p>
<p>������ ���������� ����� <b>StringBuffer</b>:</p>
<table border=1>
  <tbody>
  
<tr valign=top>
    
<th valign=top width=90>
      
<div align=left>
      
<p><b>�����</b><br>
</p>
</div>
</th>
<th valign=top width=152>
      
<div align=left>
      
<p><b>���������, ����������</b><br>
</p>
</div>
</th>
<th valign=top width=125>
      
<div align=left>
      
<p><b>����������</b><br>
</p>
</div>
</th>
</tr>
  
<tr valign=top>
    
<td>
      
<div align=left>
      
<p><b>Constructor</b><br>
</p>
</div>
</td>
<td>
      
<div align=left>
      
<p>�������������: �������� �� ���������, ����� 
      ������������ ������, <b>String</b> ������������ � �������� 
      ���������.<br>
</p>
</div>
</td>
<td>
      
<div align=left>
      
<p>������� ����� ������ 
      <b>StringBuffer</b>.<br>
</p>
</div>
</td>
</tr>
  
<tr valign=top>
    
<td>
      
<div align=left>
      
<p><b>toString(&nbsp;)</b><br>
</p>
</div>
</td>
<td><br>
</td>
<td>
      
<div align=left>
      
<p>������� <b>String</b> ��������� ������� 
      <b>StringBuffer</b>.<br>
</p>
</div>
</td>
</tr>
  
<tr valign=top>
    
<td>
      
<div align=left>
      
<p><b>length(&nbsp;)</b><br>
</p>
</div>
</td>
<td><br>
</td>
<td>
      
<div align=left>
      
<p>���������� �������� � 
      <b>StringBuffer</b>.<br>
</p>
</div>
</td>
</tr>
  
<tr valign=top>
    
<td>
      
<div align=left>
      
<p><b>capacity(&nbsp;)</b><br>
</p>
</div>
</td>
<td><br>
</td>
<td>
      
<div align=left>
      
<p>���������� ������� ����� ���������� 
      ������.<br>
</p>
</div>
</td>
</tr>
  
<tr valign=top>
    
<td>
      
<div align=left>
      
<p><b>ensure-</b><br>
<b>Capacity(&nbsp;)</b><br>
</p>
</div>
</td>
<td>
      
<div align=left>
      
<p>Integer ������������ �������� ����� 
      ������.<br>
</p>
</div>
</td>
<td>
      
<div align=left>
      
<p><b>StringBuffer</b> ����������� ��� ������� 
      ��������� ����� ������.<br>
</p>
</div>
</td>
</tr>
  
<tr valign=top>
    
<td>
      
<div align=left>
      
<p><b>setLength(&nbsp;)</b><br>
</p>
</div>
</td>
<td>
      
<div align=left>
      
<p>Integer ������������ ����� ����� ������ �������� � 
      ������.<br>
</p>
</div>
</td>
<td>
      
<div align=left>
      
<p>��������� �� ����������� ������ ���������. ��� 
      ������ �����������, ����� ������ ����������� 
    ������.<br>
</p>
</div>
</td>
</tr>
  
<tr valign=top>
    
<td>
      
<div align=left>
      
<p><b>charAt(&nbsp;)</b><br>
</p>
</div>
</td>
<td>
      
<div align=left>
      
<p>Integer ����������� �� ������� 
      ��������.<br>
</p>
</div>
</td>
<td>
      
<div align=left>
      
<p>���������� <b>char</b> ��� �������� ������� 
      ������.<br>
</p>
</div>
</td>
</tr>
  
<tr valign=top>
    
<td>
      
<div align=left>
      
<p><b>setCharAt(&nbsp;)</b><br>
</p>
</div>
</td>
<td>
      
<div align=left>
      
<p>Integer, ����������� �� ������� �������� � ����� 
      �������� <b>char</b> ��� ����� ��������.<br>
</p>
</div>
</td>
<td>
      
<div align=left>
      
<p>�������� �������� � ��������� 
      �������.<br>
</p>
</div>
</td>
</tr>
  
<tr valign=top>
    
<td>
      
<div align=left>
      
<p><b>getChars(&nbsp;)</b><br>
</p>
</div>
</td>
<td>
      
<div align=left>
      
<p>������ � ����� ����������� ���������, ������ � 
      ������� ������������ �����������, ������ � ������� 
      �������.<br>
</p>
</div>
</td>
<td>
      
<div align=left>
      
<p>��������� ����������� �������� <b>char</b> �� 
      ������� ������. � ������� �� <b>String</b> ����� ��� ������ 
      <b>getBytes(&nbsp;)</b>.<br>
</p>
</div>
</td>
</tr>
  
<tr valign=top>
    
<td>
      
<div align=left>
      
<p><b>append(&nbsp;)</b><br>
</p>
</div>
</td>
<td>
      
<div align=left>
      
<p>�������������: <b>Object</b>, <b>String</b>, 
      <b>char[]</b>, <b>char[]</b> �� ��������� � ������, <b>boolean</b>, 
      <b>char</b>, <b>int</b>, <b>long</b>, <b>float</b>, 
      <b>double</b>.<br>
</p>
</div>
</td>
<td>
      
<div align=left>
      
<p>�������� ������������� � ������ � ����������� � 
      ����� �������� ������. ��� ������������� ������ ������ 
      �������������.<br>
</p>
</div>
</td>
</tr>
  
<tr valign=top>
    
<td>
      
<div align=left>
      
<p><b>insert(&nbsp;)</b><br>
</p>
</div>
</td>
<td>
      
<div align=left>
      
<p>�������������, ��� ���� ������ ���������� �������� 
      �������� � ������� ����������� �������: <b>Object</b>, <b>String</b>, 
      <b>char[]</b>, <b>boolean</b>, <b>char</b>, <b>int</b>, <b>long</b>, 
      <b>float</b>, <b>double</b>.<br>
</p>
</div>
</td>
<td>
      
<div align=left>
      
<p>������ �������� ������������� � ������ � ����������� 
      � ������� ����� ������� � ���������� ��������. ��� ������������� ������ 
      ������ �������������.<br>
</p>
</div>
</td>
</tr>
  
<tr valign=top>
    
<td>
      
<div align=left>
      
<p><b>reverse(&nbsp;)</b><br>
</p>
</div>
</td>
<td><br>
</td>
<td>
      
<div align=left>
      
<p>������� ���������� �������� � ������ �������� �� 
      ���������������.<br>
</p>
</div>
</td>
</tr>
</tbody>
</table>
<p class="pad">�������� ����� ������������ ����� <b>append()</b>, ����������� ������������ 
��� ��������� ��������� <b>String</b>, ��������� ����������� '+' � '+='. ����� 
<b>insert()</b> ����� �� �� ����� � ��� ������ ��������� �������� � 
�������������� ������, �� �������� ��� ���� ����� ��������. </p>
<h4><a name="Heading625"></a>����������� �����</h4>
<p class="pad">������ �� ������ ��� ����� <b>String</b> - �� ������ ������� ����� Java. � 
String ����� ������������, �� ��������� �� ��� �������� ��� ���� ��� 
<b>String</b> �������� ����� �� ���������� � ��������������� ������� Java. ����� 
����, ����������� � ������� ������� ������������� ������������� ������������ � 
<b>String</b>, � � ��� ����������� ���������� ����������� ������������� 
���������� + � +=. � ���� ���������� �� ����������� � ������ ����������� 
�����������: ���������� ���������� ������������ ��������� ��������� 
<b>StringBuffer</b>, � ����� �������������� ����������� ����������.</p>
<h3><a name="Heading626"></a>�����</h3>
<p class="pad">��������� � Java ������ ������������ 
������ � ��������� ������ ����������� ������ ��������� � heap � ���������� 
������� ����� �� ����� ���� ��� ��������� ��������������, ��������� � ����������� � �������� ����������, �������� ��� �������� � �������� ��������. ��������, � �� ��� ��++, ���� �� ������ 
���������������� ��������� ��������� ������ � ������, �� ������ ������������ ��� 
��������� ����� ������ ���������� ������� ��������. ����� ��� �������� �� 
������������ �� ���� ����, ���������� �� �� ��� ��� ����������� ��� ������ ��� 
�� ��� ���������. ������� ��������� �������� ������� ��������� ��������. �� � 
Java �� �� ������ ����������� � ������������� �������, �� ��� ��� ���� 
�����������. �� ������ ��������� ������� �����, ����� ��� ���������, �� 
���������� � ����� �������� �������� �������: �� ������ ��������� ������. ������ 
����� �������� ����������� ���������, � ������ ������ ��������.</p>
<p>�� ��� ��������� ����������� �� ��� 
��������� ��������� ��������� ��� �������:</p>
<ol>
  
<li>��� �������� �������� � ��������� 
  ������� ������������������, ��������� � ����������� ������� (���� ��� ����� 
  ���� ������ ��������������) � ����������������� � �������� ������ 
  ���������(��������� ��� ���������� ������ ����� ���� ����������� ������� 
  ������). ��� ����������� ���������� ������ ��������� ���������� � �������� 
  ����� ����� ����� ������, ��������� <b>native</b> ������ (��. ���������� 
  B) 
  
<li>����������� ������: ������ �� 
  ������ �������� ����������� � �������������� ���� ������ �� ���� � ��� �� 
  ������, ��� ����� �������� � ���������� ������������ ���� � ��� ������, ���� 
  ����� ������� ������������� ��������� �� <i>���������</i> �������. ��� ��� 
  ����������� ������� ����� ����������� �������� �, ��� ��� ��� ����������, 
  ������������ ����� <b>clone()</b> ��� �������, ����� ���������� �� 
  �������������� ���������. � �������� ������������, ����� ���&nbsp; ��� 
  ��������� ������������� ������������� ������������ ����������� ������, �� 
  ������ ��������� ���������� �������, ������� ����� ���������� ������� ���� �� 
  ��� ����� ����, �� �� ����� �������������� ��� ��������� ��������������� 
  �������, ��� ��� ��� ��������� �� ��������� �� ����������� �������. 
  </li>
</ol>
<p class="pad">��������� ���� ������� ��� ������������ � Java ����� ����������� � ��� 
������������ ���������� ����������� ������ ������������ [<a 
href="file:///C:/out/AppendixA1.htm#[84]">84</a>] �� ��������� ������� ������ 
<b>Object.clone()</b>, ��� ��������� �� ������������� ������������ ���������� 
<b>Cloneable</b> � ��������� <b>CloneNotSupportedException</b>. ��� ������ 
���������� �����, ��������� clone() ������ ����� �������������� � �������� 
����������� ��������� Java, � ���� �� �� �������� ���������.</p>
<h3><a name="Heading627"></a>����������</h3>
<p class="pad">������� ������������ ���������� ���������� � ����������� ��������� <i>The 
Thinking in Java Annotated Solution Guide (����� �� Java. ������ �� ������� � 
�������������)</i>, ��������� �� ��������� ����� �� ����� <i><a 
href="http://www.bruceeckel.com/" target="_blank">http://www.bruceeckel.com/</a></i>.</p>
<ol>
  
<li>���������� ����������� ������ ������� ������. �������� �����, ������� 
  �������� ������ �� ������, �� ��� ���� �� �������� ���� ������, �� �������� 
  ������ �����, �������� ��� ������ � ���� ������ ����� �������� ������. 
  
<li>�������� ����� <b>myString</b>, ���������� ������ <b>String</b>, ������� 
  �� ��������������� � ������������, ��������� �������� ������������.&nbsp; 
  �������� ����� <b>toString()</b> � ����� <b>concatenate()</b>, ������� 
  ���������� ������ <b>String</b> � ��������� �������. ���������� <b>clone()</b> 
  � ������ <b>myString</b>. �������� ��� ����������� (<b>static</b>) ������, 
  ������ �� ������� �������� � �������� ��������� ������ <b>myString x</b> � 
  �������� <b>x.concatenate("����")</b>, �� �� ������ ������ ����� ���� 
  ���������� ����� <b>clone()</b>. ��������� ������ ����� ������� � ������� �� 
  �������� � �� ������. 
  
<li>�������� ����� <b>Battery</b> ���������� <b>int</b>, ������� �������� 
  ������� ������� (���������� �������������). �������� ��� ����������� � 
  �������� ��� ���� ����� &nbsp;<b>toString()</b>. ����� �������� ����� 
  <b>Toy</b>, ���������� ������ <b>Battery</b> � ����� <b>toString()</b>, 
  ��������������� ������ ���� ��������. �������� <b>clone()</b> ��� <b>Toy</b>, 
  ������� ������������� ��������� ��� ���� <b>Battery</b> �������. ������������� 
  ���, �������� <b>Toy</b> � ���������� ����������. 
  
<li>�������������� ��� ������� <b>CheckCloneable.java</b> ����� �������, ����� 
  ��� ������ <b>clone()</b> ������������ �������� 
  <b>CloneNotSupportedException</b> ����� ��� ��� ���������� �� ��������� �� 
  �������. 
  
<li>��������� ���������� ���������� �������-�����������, �������� ���������� 
  �����, ���������� <b>int</b>, <b>double</b> � ������ <b>char</b>. 
  
<li>�������������� ��� ������� Compete.java, �������� ���������� �������� � 
  ������� <b>Thing2</b> � <b>Thing4</b> � ����������, ������� �� ��� ���������� 
  ��� ������� �������� ������� �� �� ���������, � �������� �� ��� ����������� 
  �������� ��� ���. 
  
<li>�������������� ��� ������� <b>Snake.java</b>, ���������� ������� ��������� 
  ����������� "����". 
  
<li>���������� <b>ArrayList</b> � ���������� � ��� ������ <b>clone()</b> 
  ����������� ��������� �����������. </li>
</ol>
<hr>

<p><a name=[79]>[79]</a> � ��, ��� � �������� ������ ���������� � ������� ����� 
�������, �� ��������� �������������� "�������� �� ��������". ��� �� ����� ����� 
������ ����������, �� ��� ������ � ��������� ������������� "�������� �� 
��������" ����������� ���������. ����� ����, ���������� ������� � ���������� 
"�������� �� ��������" �� �� - ������ ��������� ������.</p>
<p><a name=[80]>[80]</a> ��� ����� �� �� ��������� � ������� ����������� (� 
��������) �����, �� ��� ����������� � ����������� Java, � ������� �������� ����. 
������� ��� ��� �� ������� �������������.</p>
<p><a name=[81]>[81]</a> � �������� �������������� ����� ����������� �� ������ 
������� ������� "������". �������� �����:</p>
<p><font color=#0000ff>public</font> <font color=#0000ff>class</font> Cloneit 
<font color=#0000ff>implements</font> Cloneable {<br>
&nbsp;&nbsp;&nbsp; <font 
color=#0000ff>public</font> <font color=#0000ff>static</font> <font 
color=#0000ff>void</font> main (String[] args)<font 
color=#0000ff><br>
&nbsp;&nbsp; throws </font>CloneNotSupportedException 
{<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Cloneit a = <font 
color=#0000ff>new</font> 
Cloneit();<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Cloneit b = 
(Cloneit)a.clone();<br>
&nbsp;&nbsp;&nbsp; }<br>
}</p>
<p class="pad">������, �� ����� �������� ���� �� ���� ����, ��� <b>main()</b> �������� 
������� ������ <b>Cloneit</b> �, ����� �������, ����� ����� �������� ���������� 
����� �������� ������ <b>clone()</b>. ���� �� ���������� ����������� ���� ����� 
�� ������� ������, ��� ��������� �������� � ������ ����������.</p>
<p><a name=[82]>[82]</a> �� ����������� ����������� �������.</p>
<p><a name=[83]>[83]</a> ��++ ������������� ������������ ����������� �� ������ 
������� ����������� ���������. ��������� �������� ��� ������ ������� ������� 
(��. ������ 10 ����� ����� �� ��++, 2-� ��������, Prentice-Hall, 2000), 
������������ Java ����� ��� ��� "������������� �������", ������� �� ������ 
����������� � Java. ������ ��� ���� �� ����������� ��� ���� �������, � ��� �� 
��� �� �����, ��������� � ���������� �� ������ ������ ���������� ���������� � 
Java ������������ ������� ����� ��� � ��++. ����� ��������� ���������� �� 
������� �� ����� Python (www.Python.org), �� ������� �������� ������� ������ � 
������� ������� ���������� ����������.</p>
<p><a name=[84]>[84]</a> ��� ���, ������� ������� ��� ������� ���� �������� 
��������� ��� ����� �����, ������ ��� �� ������ ������� ������� 
<b>duplicate()</b> ��� ������� ������.</p>

<hr>
 
</BODY>
</HTML>